<div class="breadcrumb-wrapper">
	<h4 class="mainTitle no-margin">Planificaci&oacute;n UE</h4>
	<div ncy-breadcrumb class="pull-right"></div>
</div>
<div class="container-fluid container-fullw"
	ng-controller="PlanificacionUEController" ng-init="init()">

	<div class="row">
		<div class="col-md-12"></div>
	</div>

	<div class="row">
		<div class="col-md-12">
			<div class="panel panel-white">

				<div class="panel-body"
					ng-show="!edicion && !edicionMatrizPresupuesto && !edicionMatrizMetas && !aprobacionPlanificacion && !aprobacionAjustado && !edicionMatrizPresupuestoAP && !edicionMatrizMetasAP">
					<div class="panel panel-white" id="panel1">
						<div class="panel-heading">
							<h4 class="panel-title text-primary">Filtros</h4>
							<ct-paneltool class="panel-tools" tool-collapse="tool-collapse"></ct-paneltool>
						</div>
						<div uib-collapse="panel1" ng-init="panel1=true"
							class="panel-wrapper">
							<div class="panel-body">
								<div class="row">
									<div class="col-sm-6">
										<div class="form-group">
											<label> C&oacute;digo Presupuestario </label> <input
												type="text" class="form-control" ng-model="codigoFiltro">
										</div>
									</div>
									<div class="col-sm-6">
										<div class="form-group">
											<label> Nombre </label> <input type="text"
												class="form-control" ng-model="nombreFiltro">
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-sm-12">
										<a class="btn btn-wide btn-dark-azure" ng-click="filtrar()">
											<i class="fa fa-search"></i> Buscar
										</a> <a class="btn btn-wide btn-o btn-default"
											ng-click="limpiar()">Limpiar</a>
									</div>
								</div>
							</div>
						</div>
					</div>

					<a href="#" class="btn btn-sm btn-dark-azure" ng-click="nuevo();">
						<i class="fa fa-plus-square"></i> Agregar
					</a>

					<div>
						<table ng-table="tableParams" class="table table-striped">
							<tr ng-repeat="obj in $data">
								<td><a class="btn btn-sm btn-primary"
									uib-tooltip="Matriz de Presupuesto"
									ng-click="editarMatrizPresupuesto($index);"> <i
										class="fa fa-pencil"></i>
								</a></td>
								<td><a class="btn btn-sm btn-primary"
									uib-tooltip="Planificacion"
									ng-click="cargarPlanificacionAnual(obj);"> <i
										class="fa fa-clipboard"></i>
								</a></td>
								<td><a class="btn btn-sm btn-primary"
									uib-tooltip="Matriz de Metas"
									ng-click="editarMatrizMetas($index);"> <i
										class="fa fa-list-alt"></i>
								</a></td>

								<td><a class="btn btn-sm btn-primary"
									style="background-color: #00B300 !important"
									uib-tooltip="Solicitar Planificaci&oacute;n"
									ng-click="solicitarPlanificacion(obj);"> <i
										class="fa ti-layout"></i>
								</a></td>
								<td><a class="btn btn-sm btn-primary"
									style="background-color: #00B300 !important"
									uib-tooltip="Solicitar Ajustada"
									ng-click="solicitarAjustado(obj);">
									<i class="fa ti-pencil-alt"></i>
								</a></td>

								<td><a class="btn btn-sm btn-primary"
									style="background-color: #00B300 !important"
									uib-tooltip="Aprobar Planificaci&oacute;n"
									ng-click="aprobarPlanificacion(obj);"> <i
										class="fa ti-marker-alt"></i>
								</a></td>
								<td><a class="btn btn-sm btn-primary"
									style="background-color: #00B300 !important"
									uib-tooltip="Aprobar Ajustada"
									ng-click="aprobarAjustado(obj);">
										<i class="fa ti-signal"></i>
								</a></td>
								<td><a class="btn btn-sm btn-primary"
									style="background-color: #00B300 !important"
									uib-tooltip="Matriz Presupuestos"
									ng-click="editarMatrizPresupuestoAP(obj);"> <i
										class="fa ti-layers-alt"></i>
								</a></td>
								<td><a class="btn btn-sm btn-primary"
									style="background-color: #00B300 !important"
									uib-tooltip="Matriz Metas" ng-click="editarMatrizMetasAP(obj);">
										<i class="fa ti-pencil-alt"></i>
								</a></td>
								<td data-title="'C&oacute;digo Presupestario'">{{obj.codigopresup}}</td>
								<td data-title="'Nombre'">{{obj.nombre}}</td>
								<td data-title="'Estado'">{{obj.npestado}}</td>
								<td data-title="'Pres. Planificado'">{{obj.npestadopresupuesto}}</td>
								<td data-title="'Pres. Ajustado'">{{obj.npestadopresupajus}}</td>
							</tr>
						</table>
					</div>
				</div>

				<div ng-show="edicion">
					<div ng-show="divPlanificacionAnual && !divActividad && !divSubActividad && !divTarea && !divSubTarea && !divItem && !divSubItem"
						class="panel-body">
						<div class="panel-heading">
							<h5 class="panel-title">Planificaci&oacute;n Anual</h5>
						</div>
						<div class="row">
							<div class="col-md-12" style="text-align: center;">
								<b>Unidad:</b> {{ planificacionUE.codigopresup }} - {{
								planificacionUE.nombre }}
							</div>
						</div>
						<br>
						<div class="row">
							<div class="col-md-12">
								<a class="btn btn-sm btn-default" ng-click="regresarPUE();">
									<i class="fa ti-back-left"></i> Regresar
								</a>
								<br><br>
								<div ui-tree="treeOptions" id="tree-root"
									data-nodrop-enabled="true" data-drag-enabled="true">
									<ol ui-tree-nodes ng-model="arbol">
										<li ng-repeat="node in arbol" ui-tree-node
											ng-include="'nodes_renderer.html'"></li>
									</ol>
								</div>
								<br>
								<div style="text-align: right;">
									<a class="btn btn-sm btn-default" ng-click="regresarPUE();">
										<i class="fa ti-back-left"></i> Regresar
									</a>
								</div>
							</div>
						</div>
					</div>

					<div ng-show="divActividad" class="panel-body" id="panelActividad">
						<div class="panel-heading">
							<h5 class="panel-title">Actividad</h5>
						</div>
						<div class="row">
							<div class="col-md-6">
								<form name="FormActividad" id="formActividad" novalidate
									ng-submit="form.submit(FormActividad,'formActividad')">
									<div class="pull-right">
										<a class="btn btn-sm btn-default"
											ng-click="resetformActividad(FormActividad);"> Cancelar </a>
									</div>
									<div class="row">
										<div class="col-md-12">
											<div>
												<div class="form-group"
													ng-class="{'has-error':FormActividad.codigo.$dirty && FormActividad.codigo.$invalid, 'has-success':FormActividad.codigo.$valid}">
													<label class="control-label"> C&oacute;digo <span
														class="symbol required"></span>
													</label> <input type="text" placeholder="Escriba un c&oacute;digo"
														class="form-control" name="codigo"
														ng-model="objeto.codigo" numericOnly required
														ng-disabled="true" ng-maxlength="10"> <span
														class="error text-small block"
														ng-if="FormActividad.codigo.$dirty && FormActividad.codigo.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormActividad.codigo.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormActividad.descripcion.$dirty && FormActividad.descripcion.$invalid, 'has-success':FormActividad.descripcion.$valid}">
													<label class="control-label"> Descripci&oacute;n <span
														class="symbol required"></span>
													</label> <input type="text"
														placeholder="Escriba un descripci&oacute;n"
														class="form-control" name="descripcion"
														ng-model="objeto.descripcion" required ng-disabled="true">
													<span class="error text-small block"
														ng-if="FormActividad.descripcion.$dirty && FormActividad.descripcion.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormActividad.descripcion.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormActividad.npFechainicio.$dirty && FormActividad.npFechainicio.$invalid, 'has-success':FormActividad.npFechainicio.$valid}">
													<label class="control-label"> Fecha Inicio <span
														class="symbol required"></span>
													</label>
													<div class="input-group">
														<input type="text" class="form-control"
															placeholder="Escriba un fecha inicio"
															uib-datepicker-popup="dd/MM/yyyy" name="npFechainicio"
															ng-model="objeto.npFechainicio"
															is-open="popupnpFechainicio.opened"
															datepicker-options="dateOptions" ng-required="true"
															close-text="Close" ng-disabled="!editar"> <span
															class="input-group-btn">
															<button type="button" class="btn btn-primary"
																ng-click="opennpFechainicio()">
																<i class="glyphicon glyphicon-calendar"></i>
															</button>
														</span>
													</div>
													<span class="error text-small block"
														ng-if="FormActividad.npFechainicio.$dirty && FormActividad.npFechainicio.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormActividad.npFechainicio.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormActividad.npFechafin.$dirty && FormActividad.npFechafin.$invalid, 'has-success':FormActividad.npFechafin.$valid}">
													<label class="control-label"> Fecha Fin <span
														class="symbol required"></span>
													</label>
													<div class="input-group">
														<input type="text" class="form-control"
															placeholder="Escriba un fecha fin"
															uib-datepicker-popup="dd/MM/yyyy" name="npFechafin"
															ng-model="objeto.npFechafin"
															is-open="popupnpFechafin.opened"
															datepicker-options="dateOptions" ng-required="true"
															close-text="Close" ng-disabled="!editar"> <span
															class="input-group-btn">
															<button type="button" class="btn btn-primary"
																ng-click="opennpFechafin()">
																<i class="glyphicon glyphicon-calendar"></i>
															</button>
														</span>
													</div>
													<span class="error text-small block"
														ng-if="FormActividad.npFechafin.$dirty && FormActividad.npFechafin.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormActividad.npFechafin.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormActividad.lineabase.$dirty && FormActividad.lineabase.$invalid, 'has-success':FormActividad.lineabase.$valid}">
													<label class="control-label"> L&iacute;nea Base <span
														class="symbol required"></span>
													</label>
													<textarea name="lineabase" rows="5" style="width: 100%"
														placeholder="Escriba un l&iacute;nea base"
														class="form-control" ng-model="objeto.lineabase" required
														ng-disabled="!editar"></textarea>
													<span class="error text-small block"
														ng-if="FormActividad.lineabase.$dirty && FormActividad.lineabase.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormActividad.lineabase.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormActividad.justificacion.$dirty && FormActividad.justificacion.$invalid, 'has-success':FormActividad.justificacion.$valid}">
													<label class="control-label"> Justificaci&oacute;n
														<span class="symbol required"></span>
													</label>
													<textarea name="justificacion" rows="5" style="width: 100%"
														placeholder="Escriba un justificaci&oacute;n"
														class="form-control" ng-model="objeto.justificacion"
														required ng-disabled="!editar"></textarea>
													<span class="error text-small block"
														ng-if="FormActividad.justificacion.$dirty && FormActividad.justificacion.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormActividad.justificacion.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormActividad.objetivogeneral.$dirty && FormActividad.objetivogeneral.$invalid, 'has-success':FormActividad.objetivogeneral.$valid}">
													<label class="control-label"> Objetivo General <span
														class="symbol required"></span>
													</label>
													<textarea name="objetivogeneral" rows="5"
														style="width: 100%"
														placeholder="Escriba un objetivo general"
														class="form-control" ng-model="objeto.objetivogeneral"
														required ng-disabled="!editar"></textarea>
													<span class="error text-small block"
														ng-if="FormActividad.objetivogeneral.$dirty && FormActividad.objetivogeneral.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormActividad.objetivogeneral.$valid"> Listo
													</span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormActividad.objetivoespec.$dirty && FormActividad.objetivoespec.$invalid, 'has-success':FormActividad.objetivoespec.$valid}">
													<label class="control-label"> Objetivo Especifico <span
														class="symbol required"></span>
													</label>
													<textarea name="objetivoespec" rows="5" style="width: 100%"
														placeholder="Escriba un objetivo especifico"
														class="form-control" ng-model="objeto.objetivoespec"
														required ng-disabled="!editar"></textarea>
													<span class="error text-small block"
														ng-if="FormActividad.objetivoespec.$dirty && FormActividad.objetivoespec.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormActividad.objetivoespec.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormActividad.estado.$dirty && FormActividad.estado.$invalid, 'has-success':FormActividad.estado.$valid}">
													<label class="control-label"> Estado <span
														class="symbol required"></span>
													</label> <select class="form-control" name="estado"
														ng-model="objeto.estado" required ng-disabled="true">
														<option value="A" ng-selected="selected">Activo</option>
														<option value="I">Inactivo</option>
													</select> <span class="error text-small block"
														ng-if="FormActividad.estado.$dirty && FormActividad.estado.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormActividad.estado.$valid"> Listo </span>
												</div>

												<div class="panel-heading">
													<h5 class="panel-title">Presupuesto</h5>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormActividad.presupplanif.$dirty && FormActividad.presupplanif.$invalid, 'has-success':FormActividad.presupplanif.$valid}">
													<label class="control-label"> Presupuesto
														Planificado <span class="symbol required"></span>
													</label> <input type="text" numericOnly style="text-align: right;"
														decimal="2"
														placeholder="Escriba un presupuesto planificado"
														class="form-control" name="presupplanif"
														ng-model="objeto.presupplanif" required
														ng-disabled="!editar"> <span
														class="error text-small block"
														ng-if="FormActividad.presupplanif.$dirty && FormActividad.presupplanif.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormActividad.presupplanif.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormActividad.presupajust.$dirty && FormActividad.presupajust.$invalid, 'has-success':FormActividad.presupajust.$valid}">
													<label class="control-label"> Presupuesto Ajustado
														<span class="symbol required"></span>
													</label> <input type="text" numericOnly style="text-align: right;"
														decimal="2" placeholder="Escriba un presupuesto ajustado"
														class="form-control" name="presupajust"
														ng-model="objeto.presupajust" required
														ng-disabled="!editarA"> <span
														class="error text-small block"
														ng-if="FormActividad.presupajust.$dirty && FormActividad.presupajust.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormActividad.presupajust.$valid"> Listo </span>
												</div>

												<div class="panel-heading">
													<h5 class="panel-title">Meta</h5>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormActividad.npIndicadornombre.$dirty && FormActividad.npIndicadornombre.$invalid, 'has-success':FormActividad.npIndicadornombre.$valid}">
													<label class="control-label"> Indicador Nombre <span
														class="symbol required"></span>
													</label> <input type="text"
														placeholder="Escriba un indicador nombre"
														class="form-control" name="npIndicadornombre"
														ng-model="objeto.npIndicadornombre" required
														ng-disabled="true"> <span
														class="error text-small block"
														ng-if="FormActividad.npIndicadornombre.$dirty && FormActividad.npIndicadornombre.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormActividad.npIndicadornombre.$valid">
														Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormActividad.npIndicadormetadescriopcion.$dirty && FormActividad.npIndicadormetadescriopcion.$invalid, 'has-success':FormActividad.npIndicadormetadescriopcion.$valid}">
													<label class="control-label"> Indicador Meta
														Descripci&oacute;n <span class="symbol required"></span>
													</label> <input type="text"
														placeholder="Escriba un indicador meta descripci&oacute;n"
														class="form-control" name="npIndicadormetadescriopcion"
														ng-model="objeto.npIndicadormetadescriopcion" required
														ng-disabled="true"> <span
														class="error text-small block"
														ng-if="FormActividad.npIndicadormetadescriopcion.$dirty && FormActividad.npIndicadormetadescriopcion.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormActividad.npIndicadormetadescriopcion.$valid">
														Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormActividad.npIndicadormetdescripcion.$dirty && FormActividad.npIndicadormetdescripcion.$invalid, 'has-success':FormActividad.npIndicadormetdescripcion.$valid}">
													<label class="control-label"> Indicador
														M&eacute;todo Descripci&oacute;n <span
														class="symbol required"></span>
													</label> <input type="text"
														placeholder="Escriba un indicador m&eacute;todo descripci&oacute;n"
														class="form-control" name="npIndicadormetdescripcion"
														ng-model="objeto.npIndicadormetdescripcion" required
														ng-disabled="true"> <span
														class="error text-small block"
														ng-if="FormActividad.npIndicadormetdescripcion.$dirty && FormActividad.npIndicadormetdescripcion.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormActividad.npIndicadormetdescripcion.$valid">
														Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormActividad.npIndicadormetcodigo.$dirty && FormActividad.npIndicadormetcodigo.$invalid, 'has-success':FormActividad.npIndicadormetcodigo.$valid}">
													<label class="control-label"> Indicador
														M&eacute;todo Med Verificaci&oacute;n <span
														class="symbol required"></span>
													</label> <input type="text"
														placeholder="Escriba un indicador m&eacute;todo med verificaci&oacute;n"
														class="form-control" name="npIndicadormetcodigo"
														ng-model="objeto.npIndicadormetcodigo" required
														ng-disabled="true"> <span
														class="error text-small block"
														ng-if="FormActividad.npIndicadormetcodigo.$dirty && FormActividad.npIndicadormetcodigo.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormActividad.npIndicadormetcodigo.$valid">
														Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormActividad.npUnidadmedidacodigo.$dirty && FormActividad.npUnidadmedidacodigo.$invalid, 'has-success':FormActividad.npUnidadmedidacodigo.$valid}">
													<label class="control-label"> Unidad Medida
														C&oacute;digo <span class="symbol required"></span>
													</label> <input type="text"
														placeholder="Escriba un unidad medida c&oacute;digo"
														class="form-control" name="npUnidadmedidacodigo"
														ng-model="objeto.npUnidadmedidacodigo" required
														ng-disabled="true"> <span
														class="error text-small block"
														ng-if="FormActividad.npUnidadmedidacodigo.$dirty && FormActividad.npUnidadmedidacodigo.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormActividad.npUnidadmedidacodigo.$valid">
														Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormActividad.npUnidadmedidanombre.$dirty && FormActividad.npUnidadmedidanombre.$invalid, 'has-success':FormActividad.npUnidadmedidanombre.$valid}">
													<label class="control-label"> Unidad Medida Nombre
														<span class="symbol required"></span>
													</label> <input type="text"
														placeholder="Escriba un unidad medida nombre"
														class="form-control" name="npUnidadmedidanombre"
														ng-model="objeto.npUnidadmedidanombre" required
														ng-disabled="true"> <span
														class="error text-small block"
														ng-if="FormActividad.npUnidadmedidanombre.$dirty && FormActividad.npUnidadmedidanombre.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormActividad.npUnidadmedidanombre.$valid">
														Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormActividad.npGrupomedidacodigo.$dirty && FormActividad.npGrupomedidacodigo.$invalid, 'has-success':FormActividad.npGrupomedidacodigo.$valid}">
													<label class="control-label"> Grupo Medida
														C&oacute;digo <span class="symbol required"></span>
													</label> <input type="text"
														placeholder="Escriba un grupo medida c&oacute;digo"
														class="form-control" name="npGrupomedidacodigo"
														ng-model="objeto.npGrupomedidacodigo" required
														ng-disabled="true"> <span
														class="error text-small block"
														ng-if="FormActividad.npGrupomedidacodigo.$dirty && FormActividad.npGrupomedidacodigo.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormActividad.npGrupomedidacodigo.$valid">
														Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormActividad.npGrupomedidanombre.$dirty && FormActividad.npGrupomedidanombre.$invalid, 'has-success':FormActividad.npGrupomedidanombre.$valid}">
													<label class="control-label"> Grupo Medida Nombre <span
														class="symbol required"></span>
													</label> <input type="text"
														placeholder="Escriba un grupo medida nombre"
														class="form-control" name="npGrupomedidanombre"
														ng-model="objeto.npGrupomedidanombre" required
														ng-disabled="true"> <span
														class="error text-small block"
														ng-if="FormActividad.npGrupomedidanombre.$dirty && FormActividad.npGrupomedidanombre.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormActividad.npGrupomedidanombre.$valid">
														Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormActividad.npMetaPlanificada.$dirty && FormActividad.npMetaPlanificada.$invalid, 'has-success':FormActividad.npMetaPlanificada.$valid}">
													<label class="control-label"> Meta Planificada <span
														class="symbol required"></span>
													</label>
													<input type="text"
														placeholder="Escriba un meta planificada"
														class="form-control" name="npMetaPlanificada"
														ng-model="detalles[mPlanificadaID].cantidad" required
														ng-disabled="!editar" ng-change="modificarMetaPlanificada(true);">
													<span
														class="error text-small block"
														ng-if="FormActividad.npMetaPlanificada.$dirty && FormActividad.npMetaPlanificada.$invalid">
														Incorrecto </span>
													<span class="success text-small"
														ng-if="FormActividad.npMetaPlanificada.$valid">
														Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormActividad.npMetaPlanificadaDescripcion.$dirty && FormActividad.npMetaPlanificadaDescripcion.$invalid, 'has-success':FormActividad.npMetaPlanificadaDescripcion.$valid}">
													<label class="control-label"> Meta Planificada
														Descripci&oacute;n <span class="symbol required"></span>
													</label>
													<textarea name="npMetaPlanificadaDescripcion" rows="5"
														style="width: 100%"
														placeholder="Escriba un meta planificada descripci&oacute;n (no llega en el servicio)"
														class="form-control"
														ng-model="detalles[mPlanificadaID].acummetadesc" required
														ng-disabled="!editar"></textarea>
													<span class="error text-small block"
														ng-if="FormActividad.npMetaPlanificadaDescripcion.$dirty && FormActividad.npMetaPlanificadaDescripcion.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormActividad.npMetaPlanificadaDescripcion.$valid">
														Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormActividad.npMetaAjustada.$dirty && FormActividad.npMetaAjustada.$invalid, 'has-success':FormActividad.npMetaAjustada.$valid}">
													<label class="control-label"> Meta Ajustada <span
														class="symbol required"></span>
													</label>
													<input type="text"
														placeholder="Escriba un meta ajustada (no llega en el servicio)"
														class="form-control" name="npMetaAjustada"
														ng-model="detalles[mAjustadaID].cantidad"
														ng-disabled="!editarA" ng-change="modificarMetaAjustada(true);">
													<span
														class="error text-small block"
														ng-if="FormActividad.npMetaAjustada.$dirty && FormActividad.npMetaAjustada.$invalid">
														Incorrecto </span>
													<span class="success text-small"
														ng-if="FormActividad.npMetaAjustada.$valid"> Listo
													</span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormActividad.npMetaAjustadaDescripcion.$dirty && FormActividad.npMetaAjustadaDescripcion.$invalid, 'has-success':FormActividad.npMetaAjustadaDescripcion.$valid}">
													<label class="control-label"> Meta Ajustada
														Descripci&oacute;n <span class="symbol required"></span>
													</label>
													<textarea name="npMetaAjustadaDescripcion" rows="5"
														style="width: 100%"
														placeholder="Escriba un meta ajustada descripci&oacute;n"
														class="form-control"
														ng-model="detalles[mAjustadaID].acummetadesc"
														ng-disabled="!editarA"></textarea>
													<span class="error text-small block"
														ng-if="FormActividad.npMetaAjustadaDescripcion.$dirty && FormActividad.npMetaAjustadaDescripcion.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormActividad.npMetaAjustadaDescripcion.$valid">
														Listo </span>
												</div>
											</div>
											<div class="pull-right">
												<button type="submit" class="btn btn-primary"
													ng-show="editar || editarA">Confirmar</button>
												<a class="btn btn-sm btn-default"
													ng-click="resetformActividad(FormActividad);"> Cancelar
												</a>
											</div>
										</div>
									</div>
								</form>
							</div>
							<div class="col-md-6">
								<div ng-show="divMetaDistribucionPlanificada"
									class="panel panel-primary">
									<form name="Form" id="formMetaDistribucionPlanificada"
										novalidate
										ng-submit="form.submit(Form,'formMetaDistribucionPlanificada');">
										<span>
											&nbsp;Distribuci&oacute;n:
											<a class="btn btn-sm btn-primary"
												style="background-color: #00B300 !important">
												Planificado
											</a>
											<span ng-show="detalles[mAjustadaID].cantidad > 0">
												&nbsp;
												<a class="btn btn-sm btn-default red"
													uib-tooltip="Copiar Planificado a Ajustado"
													ng-click="copiarPlanificadoAjustado();">
													<i class="fa ti-hand-point-right"></i>
												</a>
												&nbsp;
												<a class="btn btn-sm btn-default"
													ng-click="editarDistribucionAjustado();">
													Ajustado
												</a>
											</span>
											<br>
											&nbsp;Unidad de Tiempo:
											<select name="periodoPlanificado" ng-disabled="!editar"
												ng-model="objetoPlanificada.unidadtiempo"
												ng-change="vLimpio=true;distribucionValores('P');">
													<option value="ME">Mensual</option>
													<option value="BI">Bimensual</option>
													<option value="TM">Trimestral</option>
													<option value="CM">Cuatrimestral</option>
													<option value="SE">Semestral</option>
													<option value="AN">Anual</option>
													<option value="PE">Personalizado</option>
											</select>
										</span>
										<div class="panel-body no-padding panel-white">
											<div class="col-md-12 panel-white no-padding">
												<div>
													<table class="table table-striped">
														<tr>
															<th>Mes</th>
															<th>Meta Cantidad</th>
															<th>Meta Porcentaje</th>
															<th>Descripci&oacute;n/Medio de Verificaci&oacute;n</th>
														</tr>
														<tr ng-repeat="obj in detallesPlanificada">
															<td>{{obj.npMes}}</td>
															<td>
																<input type="number"
																	placeholder="Escriba una cantida para el mes"
																	class="form-control" name="{{'pvalor_'+$index}}"
																	ng-model="obj.metacantidad" numericOnly
																	style="text-align: right;" required decimal="2"
																	ng-disabled="!editar || objetoPlanificada.unidadtiempo!='PE'"
																	ng-change="calcularPorcientoP();">
															</td>
															<td>
																<input type="number"
																	placeholder="Escriba una cantida para el mes"
																	class="form-control" name="{{'pporcentaje_'+$index}}"
																	ng-model="obj.lineametavalor" numericOnly
																	style="text-align: right;" required decimal="2"
																	ng-disabled="true">
															</td>
															<td>
																<textarea name="{{'descripcion_'+$index}}"
																	rows="3" style="width: 100%"
																	placeholder="Escriba un descripci&oacute;n"
																	class="form-control" ng-model="obj.observacion"
																	ng-disabled="!editar" ng-required="obj.metacantidad != 0"></textarea>
															</td>
														</tr>
														<tr>
															<td>Diferencia</td>
															<td>
															    <input type="text" style="text-align:right;" decimal="2"
															        class="form-control" name="diferenciaPlanificadaV" ng-model="diferenciaPlanificadaV"
															        ng-disabled="true">
														    </td>
															<td>
															    <input type="text" style="text-align:right;" decimal="2"
															        class="form-control" ng-model="diferenciaPlanificadaP"
															        ng-disabled="true">
															</td>
															<td></td>
														</tr>
													</table>
												</div>
											</div>
										</div>
										<div class="row">
											<div class="col-md-12">
												<div class="pull-right">
													<button type="submit" class="btn btn-primary"
														ng-show="editar">Guardar</button>
												</div>
											</div>
										</div>
									</form>
								</div>

								<div ng-show="divMetaDistribucionAjustada"
									class="panel panel-primary">
									<form name="Form" id="formMetaDistribucionAjustada" novalidate
										ng-submit="form.submit(Form,'formMetaDistribucionAjustada')">
										<span> &nbsp;Distribuci&oacute;n:
											<a
												class="btn btn-sm btn-default"
												ng-click="editarDistribucionPlanificado();"> Planificado
											</a> &nbsp; <a class="btn btn-sm btn-default"
												uib-tooltip="Copiar Planificado a Ajustado"
												ng-click="copiarPlanificadoAjustado();"> <i
													class="fa ti-hand-point-right"></i>
											</a> &nbsp; <a class="btn btn-sm btn-primary"
												style="background-color: #00B300 !important"> Ajustado </a>
											<br>&nbsp;Unidad de Tiempo
											<select name="periodoPlanificado" ng-disabled="!editarA"
												ng-model="objetoAjustada.unidadtiempo"
												ng-change="vLimpio=true;distribucionValores('A');">
													<option value="ME">Mensual</option>
													<option value="BI">Bimensual</option>
													<option value="TM">Trimestral</option>
													<option value="CM">Cuatrimestral</option>
													<option value="SE">Semestral</option>
													<option value="AN">Anual</option>
													<option value="PE">Personalizado</option>
											</select>
										</span>
										<div class="panel-body no-padding panel-white">
											<div class="col-md-12 panel-white no-padding">
												<div>
													<table class="table table-striped">
														<tr>
															<th>Mes</th>
															<th>Meta Cantidad</th>
															<th>Meta Porcentaje</th>
															<th>Descripci&oacute;n/Medio de Verificaci&oacute;n</th>
														</tr>
														<tr ng-repeat="obj in detallesAjustada">
															<td>{{obj.npMes}}</td>
															<td>
																<input type="number"
																	placeholder="Escriba una cantida para el mes"
																	class="form-control" name="{{'pvalor_'+$index}}"
																	ng-model="obj.metacantidad" numericOnly
																	style="text-align: right;" required decimal="2"
																	ng-disabled="objetoAjustada.unidadtiempo!='PE'"
																	ng-change="calcularPorcientoA();">
															</td>
															<td>
																<input type="number"
																	placeholder="Escriba una cantida para el mes"
																	class="form-control" name="{{'pporcentaje_'+$index}}"
																	ng-model="obj.lineametavalor" numericOnly
																	style="text-align: right;" required decimal="2"
																	ng-disabled="true">
															</td>
															<td>
																<textarea name="{{'descripcion_'+$index}}"
																	rows="3" style="width: 100%"
																	placeholder="Escriba un descripci&oacute;n"
																	class="form-control" ng-model="obj.observacion"
																	ng-disabled="!editarA"></textarea></td>
														</tr>
														<tr>
															<td>Diferencia</td>
															<td>
															    <input type="text" style="text-align:right;" decimal="2"
															        class="form-control" ng-model="diferenciaAjustadaV"
															        ng-disabled="true">
														    </td>
															<td>
															    <input type="text" style="text-align:right;" decimal="2"
															        class="form-control" ng-model="diferenciaAjustadaP"
															        ng-disabled="true">
															</td>
															<td></td>
														</tr>
													</table>
												</div>
											</div>
										</div>
										<div class="row">
											<div class="col-md-12">
												<div class="pull-right">
													<button type="submit" class="btn btn-primary"
														ng-show="editarA">Guardar</button>
												</div>
											</div>
										</div>
									</form>
								</div>
							</div>
						</div>
					</div>

					<div ng-show="divSubActividad" class="panel-body"
						id="panelSubActividad">
						<div class="panel-heading">
							<h5 class="panel-title">Subactividad</h5>
						</div>

						<div class="row">
							<div class="col-md-6">
								<form name="FormSubActividad" id="formSubActividad" novalidate
									ng-submit="form.submit(FormSubActividad,'formSubActividad')">
									<div class="pull-right">
										<a class="btn btn-sm btn-default"
											ng-click="resetformSubActividad(FormSubActividad);">
											Cancelar </a>
									</div>
									<div class="row">
										<div class="col-md-12">
											<div>
												<div class="form-group"
													ng-class="{'has-error':FormSubActividad.npcodigo.$dirty && FormSubActividad.npcodigo.$invalid, 'has-success':FormSubActividad.npcodigo.$valid}">
													<label class="control-label"> C&oacute;digo <span
														class="symbol required"></span>
													</label> <input type="text" placeholder="Escriba un c&oacute;digo"
														class="form-control" name="npcodigo"
														ng-model="objeto.npcodigo" required ng-disabled="true"
														ng-maxlength="10"> <span
														class="error text-small block"
														ng-if="FormSubActividad.npcodigo.$dirty && FormSubActividad.npcodigo.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormSubActividad.npcodigo.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormSubActividad.npdescripcion.$dirty && FormSubActividad.npdescripcion.$invalid, 'has-success':FormSubActividad.npdescripcion.$valid}">
													<label class="control-label"> Descripci&oacute;n <span
														class="symbol required"></span>
													</label> <input type="text"
														placeholder="Escriba un descripci&oacute;n"
														class="form-control" name="npdescripcion"
														ng-model="objeto.npdescripcion" required
														ng-disabled="true"> <span
														class="error text-small block"
														ng-if="FormSubActividad.npdescripcion.$dirty && FormSubActividad.npdescripcion.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormSubActividad.npdescripcion.$valid">
														Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormSubActividad.ponderacion.$dirty && FormSubActividad.ponderacion.$invalid, 'has-success':FormSubActividad.ponderacion.$valid}">
													<label class="control-label"> Ponderaci&oacute;n <span
														class="symbol required"></span>
													</label> <input type="text"
														placeholder="Escriba un ponderaci&oacute;n"
														class="form-control" name="ponderacion"
														ng-model="objeto.ponderacion" numericOnly
														style="text-align: right;" required ng-disabled="!editar"
														format="number"> <span
														class="error text-small block"
														ng-if="FormSubActividad.ponderacion.$dirty && FormSubActividad.ponderacion.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormSubActividad.ponderacion.$valid"> Listo
													</span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormSubActividad.estado.$dirty && FormSubActividad.estado.$invalid, 'has-success':FormSubActividad.estado.$valid}">
													<label class="control-label"> Estado <span
														class="symbol required"></span>
													</label> <select class="form-control" name="estado"
														ng-model="objeto.estado" required ng-disabled="true">
														<option value="A">Activo</option>
														<option value="I">Inactivo</option>
													</select> <span class="error text-small block"
														ng-if="FormSubActividad.estado.$dirty && FormSubActividad.estado.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormSubActividad.estado.$valid"> Listo </span>
												</div>
											</div>
											<div class="pull-right">
												<button type="submit" class="btn btn-primary"
													ng-show="editar">Confirmar</button>
												<a class="btn btn-sm btn-default"
													ng-click="resetformSubActividad(FormSubActividad);">
													Cancelar </a>
											</div>
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>

					<div ng-show="divTarea" class="panel-body" id="panelTarea">
						<div class="panel-heading">
							<h5 class="panel-title">Tarea</h5>
						</div>

						<div class="row">
							<div class="col-md-6">
								<div class="pull-right">
									<a class="btn btn-sm btn-default"
										ng-click="resetformTarea(Form);"> Cancelar </a>
								</div>
								<form name="FormTarea" id="formTarea" novalidate
									ng-submit="form.submit(FormTarea,'formTarea')">
									<div class="row">
										<div class="col-md-12">
											<div>
												<div class="form-group"
													ng-class="{'has-error':FormTarea.TAnpcodigo.$dirty && FormTarea.TAnpcodigo.$invalid, 'has-success':FormTarea.TAnpcodigo.$valid}">
													<label class="control-label"> C&oacute;digo <span
														class="symbol required"></span>
													</label> <input type="text" placeholder="Escriba un c&oacute;digo"
														class="form-control" name="TAnpcodigo"
														ng-model="objeto.codigo" ng-disabled="!esnuevo">
													<span class="error text-small block"
														ng-if="FormTarea.TAnpcodigo.$dirty && FormTarea.TAnpcodigo.$invalid">
														Incorrecto </span>
													<span class="success text-small"
														ng-if="FormTarea.TAnpcodigo.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormTarea.TAnpdescripcion.$dirty && FormTarea.TAnpdescripcion.$invalid, 'has-success':FormTarea.TAnpdescripcion.$valid}">
													<label class="control-label"> Descripci&oacute;n <span
														class="symbol required"></span>
													</label>
													<textarea name="TAnpdescripcion" rows="5" style="width: 100%"
														placeholder="Escriba un descripci&oacute;n"
														class="form-control" ng-model="objeto.descripcion" required
														ng-disabled="!editar"></textarea>
													<span class="error text-small block"
														ng-if="FormTarea.TAnpdescripcion.$dirty && FormTarea.TAnpdescripcion.$invalid">
														Incorrecto
													</span>
													<span class="success text-small"
														ng-if="FormTarea.TAnpdescripcion.$valid">
														Listo
													</span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormTarea.STponderacion.$dirty && FormTarea.STponderacion.$invalid, 'has-success':FormTarea.STponderacion.$valid}">
													<label class="control-label"> Ponderaci&oacute;n <span
														class="symbol required"></span>
													</label> <input type="text"
														placeholder="Escriba un ponderaci&oacute;n"
														class="form-control" name="STponderacion"
														ng-model="objeto.ponderacion" numericOnly
														style="text-align: right;" required format="number">
													<span class="error text-small block"
														ng-if="FormTarea.STponderacion.$dirty && FormTarea.STponderacion.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormTarea.STponderacion.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormTarea.STestado.$dirty && FormTarea.STestado.$invalid, 'has-success':FormTarea.STestado.$valid}">
													<label class="control-label"> Estado <span
														class="symbol required"></span>
													</label> <select class="form-control" name="STestado"
														ng-model="objeto.estado" required>
														<option value="A">Activo</option>
														<option value="I">Inactivo</option>
													</select> <span class="error text-small block"
														ng-if="FormTarea.STestado.$dirty && FormTarea.STestado.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormTarea.STestado.$valid"> Listo </span>
												</div>
											</div>
											<div class="pull-right">
												<button type="submit" class="btn btn-primary"
													ng-show="editar">Confirmar</button>
												<a class="btn btn-sm btn-default"
													ng-click="resetformTarea(FormTarea);"> Cancelar </a>
											</div>
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>

					<div ng-show="divSubTarea" class="panel-body" id="panelSubTarea">
						<div class="panel-heading">
							<h5 class="panel-title">SubTarea</h5>
						</div>
						<div class="row">
							<div class="col-md-6">
								<form name="FormSubTarea" id="formSubTarea" novalidate
									ng-submit="form.submit(FormSubTarea,'formSubTarea')">
									<div class="pull-right">
										<a class="btn btn-sm btn-default"
											ng-click="resetformSubTarea(FormSubTarea);"> Cancelar </a>
									</div>
									<div class="row">
										<div class="col-md-12">
											<div>
												<div class="form-group"
													ng-class="{'has-error':FormSubTarea.codigo.$dirty && FormSubTarea.codigo.$invalid, 'has-success':FormSubTarea.codigo.$valid}">
													<label class="control-label"> C&oacute;digo <span
														class="symbol required"></span>
													</label>
													<input type="text" placeholder="Escriba un c&oacute;digo"
														class="form-control" name="codigo"
														ng-model="objeto.codigo" ng-disabled="!esnuevo">
													<span class="error text-small block"
														ng-if="FormSubTarea.codigo.$dirty && FormSubTarea.codigo.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormSubTarea.codigo.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormSubTarea.descripcion.$dirty && FormSubTarea.descripcion.$invalid, 'has-success':FormSubTarea.descripcion.$valid}">
													<label class="control-label"> Descripci&oacute;n <span
														class="symbol required"></span>
													</label>
													<textarea name="descripcion" rows="5"
														style="width: 100%"
														placeholder="Escriba una descripci&oacute;n"
														class="form-control" ng-disabled="!editar"
														ng-model="objeto.descripcion" required></textarea>
													<span class="error text-small block"
														ng-if="FormSubTarea.descripcion.$dirty && FormSubTarea.descripcion.$invalid">
														Incorrecto </span>
													<span class="success text-small"
														ng-if="FormSubTarea.descripcion.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormSubTarea.ponderacion.$dirty && FormSubTarea.ponderacion.$invalid, 'has-success':FormSubTarea.ponderacion.$valid}">
													<label class="control-label"> Ponderaci&oacute;n <span
														class="symbol required"></span>
													</label>
													<input type="text" ng-disabled="!editar"
														placeholder="Escriba un ponderaci&oacute;n"
														class="form-control" name="ponderacion"
														ng-model="objeto.ponderacion" numericOnly
														style="text-align: right;" required format="number">
													<span class="error text-small block"
														ng-if="FormSubTarea.ponderacion.$dirty && FormSubTarea.ponderacion.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormSubTarea.ponderacion.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormSubTarea.estado.$dirty && FormSubTarea.estado.$invalid, 'has-success':FormSubTarea.estado.$valid}">
													<label class="control-label"> Estado <span
														class="symbol required"></span>
													</label>
													<select class="form-control" name="estado"
														ng-model="objeto.estado" required
														ng-disabled="!editar">
														<option value="A">Activo</option>
														<option value="I">Inactivo</option>
													</select> <span class="error text-small block"
														ng-if="FormSubTarea.estado.$dirty && FormSubTarea.estado.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormSubTarea.estado.$valid"> Listo </span>
												</div>

												<div class="panel-heading">
													<h5 class="panel-title">Meta</h5>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormSubTarea.npUnidadMedidaCodigo.$dirty && FormSubTarea.npUnidadMedidaCodigo.$invalid, 'has-success':FormSubTarea.npUnidadMedidaCodigo.$valid}">
													<label class="control-label"> Unidad Medida
														C&oacute;digo <span class="symbol required"></span>
													</label>
													<div class="input-group">
														<input type="text"
															placeholder="Escriba un unidad medida c&oacute;digo"
															class="form-control" name="npUnidadMedidaCodigo"
															ng-disabled="true" ng-model="objeto.npcodigounidad"
															required> <span class="input-group-btn">
															<button type="button" class="btn btn-primary"
																ng-click="abrirUnidadMedidaCodigo()"
																ng-disabled="!editar">
																<i class="fa fa-search"></i> Seleccione
															</button>
														</span>
													</div>
													<span class="error text-small block"
														ng-if="FormSubTarea.npUnidadMedidaCodigo.$dirty && FormSubTarea.npUnidadMedidaCodigo.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormSubTarea.npUnidadMedidaCodigo.$valid">
														Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormSubTarea.npUnidadMedidaNombre.$dirty && FormSubTarea.npUnidadMedidaNombre.$invalid, 'has-success':FormSubTarea.npUnidadMedidaNombre.$valid}">
													<label class="control-label"> Unidad Medida Nombre
														<span class="symbol required"></span>
													</label>
													<input type="text"
														placeholder="Seleccione una Unidad Medida"
														class="form-control" name="npUnidadMedidaNombre"
														ng-model="objeto.npnombreunidad" required
														ng-disabled="true">
													<span
														class="error text-small block"
														ng-if="FormSubTarea.npUnidadMedidaNombre.$dirty && FormSubTarea.npUnidadMedidaNombre.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormSubTarea.npUnidadMedidaNombre.$valid">
														Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormSubTarea.npGrupoMedidaCodigo.$dirty && FormSubTarea.npGrupoMedidaCodigo.$invalid, 'has-success':FormSubTarea.npGrupoMedidaCodigo.$valid}">
													<label class="control-label"> Grupo Medida
														C&oacute;digo <span class="symbol required"></span>
													</label>
													<input type="text"
														placeholder="Seleccione una Unidad Medida"
														class="form-control" name="npGrupoMedidaCodigo"
														ng-model="objeto.npcodigogrupo" required
														ng-disabled="true">
													<span
														class="error text-small block"
														ng-if="FormSubTarea.npGrupoMedidaCodigo.$dirty && FormSubTarea.npGrupoMedidaCodigo.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormSubTarea.npGrupoMedidaCodigo.$valid">
														Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormSubTarea.npGrupoMedidaNombre.$dirty && FormSubTarea.npGrupoMedidaNombre.$invalid, 'has-success':FormSubTarea.npGrupoMedidaNombre.$valid}">
													<label class="control-label"> Grupo Medida Nombre <span
														class="symbol required"></span>
													</label>
													<input type="text"
														placeholder="Seleccione una Unidad Medida"
														class="form-control" name="npGrupoMedidaNombre"
														ng-model="objeto.npnombregrupo" required
														ng-disabled="true">
													<span
														class="error text-small block"
														ng-if="FormSubTarea.npGrupoMedidaNombre.$dirty && FormSubTarea.npGrupoMedidaNombre.$invalid">
														Incorrecto </span>
													<span class="success text-small"
														ng-if="FormSubTarea.npGrupoMedidaNombre.$valid">
														Listo </span>
												</div>

												<div class="row">
													<div class="col-md-6">
														<div class="form-group"
															ng-class="{'has-error':FormSubTarea.npMetaPlanificadaPorcentaje.$dirty && FormSubTarea.npMetaPlanificadaPorcentaje.$invalid, 'has-success':FormSubTarea.npMetaPlanificadaPorcentaje.$valid}">
															<label class="control-label"> Meta Planificada
																Porcentaje <span class="symbol required"></span>
															</label> <input type="text"
																placeholder="Escriba un meta planificada porcentaje"
																class="form-control" name="npMetaPlanificadaPorcentaje"
																ng-model="detalles[mPlanificadaID].valor" numericOnly
																style="text-align: right; color: Green !important; font-weight: bold !important;"
																required ng-disabled="true" format="number"> <span
																class="error text-small block"
																ng-if="FormSubTarea.npMetaPlanificadaPorcentaje.$dirty && FormSubTarea.npMetaPlanificadaPorcentaje.$invalid">
																Incorrecto </span> <span class="success text-small"
																ng-if="FormSubTarea.npMetaPlanificadaPorcentaje.$valid">
																Listo </span>
														</div>

														<div class="form-group"
															ng-class="{'has-error':FormSubTarea.npMetaPlanificadaCantidad.$dirty && FormSubTarea.npMetaPlanificadaCantidad.$invalid, 'has-success':FormSubTarea.npMetaPlanificadaCantidad.$valid}">
															<label class="control-label"> Meta Planificada
																Cantidad <span class="symbol required"></span>
															</label>
															<input type="text"
																placeholder="Escriba un meta planificada cantidad"
																class="form-control" name="npMetaPlanificadaCantidad"
																ng-model="detalles[mPlanificadaID].cantidad" numericOnly
																style="text-align: right;" required decimal="2"
																onClick="this.select();" ng-disabled="!editar"
																ng-change="modificarMetaPlanificada(true);">
															<span
																class="error text-small block"
																ng-if="FormSubTarea.npMetaPlanificadaCantidad.$dirty && FormSubTarea.npMetaPlanificadaCantidad.$invalid">
																Incorrecto </span>
															<span class="success text-small"
																ng-if="FormSubTarea.npMetaPlanificadaCantidad.$valid">
																Listo </span>
														</div>

														<div class="form-group"
															ng-class="{'has-error':FormSubTarea.npMetaPlanificadaDescripcion.$dirty && FormSubTarea.npMetaPlanificadaDescripcion.$invalid, 'has-success':FormSubTarea.npMetaPlanificadaDescripcion.$valid}">
															<label class="control-label"> Meta Planificada
																Descripci&oacute;n <span class="symbol required"></span>
															</label>
															<textarea name="npMetaPlanificadaDescripcion" rows="5"
																style="width: 100%"
																placeholder="Escriba un meta planificada descripci&oacute;n"
																class="form-control" ng-disabled="!editar"
																ng-model="detalles[mPlanificadaID].descripcion" required></textarea>
															<span class="error text-small block"
																ng-if="FormSubTarea.npMetaPlanificadaDescripcion.$dirty && FormSubTarea.npMetaPlanificadaDescripcion.$invalid">
																Incorrecto </span> <span class="success text-small"
																ng-if="FormSubTarea.npMetaPlanificadaDescripcion.$valid">
																Listo </span>
														</div>
													</div>

													<div class="col-md-6">
														<div class="form-group"
															ng-class="{'has-error':FormSubTarea.npMetaAjustadaPorcentaje.$dirty && FormSubTarea.npMetaAjustadaPorcentaje.$invalid, 'has-success':FormSubTarea.npMetaAjustadaPorcentaje.$valid}">
															<label class="control-label"> Meta Ajustada
																Porcentaje <span class="symbol required"></span>
															</label> <input type="text"
																placeholder="Escriba un meta ajustada porcentaje"
																class="form-control" name="npMetaAjustadaPorcentaje"
																ng-model="detalles[mAjustadaID].valor" numericOnly
																style="text-align: right; color: Green !important; font-weight: bold !important;"
																required ng-disabled="true" format="number"> <span
																class="error text-small block"
																ng-if="FormSubTarea.npMetaAjustadaPorcentaje.$dirty && FormSubTarea.npMetaAjustadaPorcentaje.$invalid">
																Incorrecto </span> <span class="success text-small"
																ng-if="FormSubTarea.npMetaAjustadaPorcentaje.$valid">
																Listo </span>
														</div>

														<div class="form-group"
															ng-class="{'has-error':FormSubTarea.npMetaAjustadaCantidad.$dirty && FormSubTarea.npMetaAjustadaCantidad.$invalid, 'has-success':FormSubTarea.npMetaAjustadaCantidad.$valid}">
															<label class="control-label"> Meta Ajustada
																Cantidad <span class="symbol required"></span>
															</label> <input type="text"
																placeholder="Escriba un meta ajustada cantidad"
																class="form-control" name="npMetaAjustadaCantidad"
																ng-model="detalles[mAjustadaID].cantidad" numericOnly
																style="text-align: right;" required decimal="2"
																onClick="this.select();" ng-disabled="!editarA"
																ng-change="modificarMetaAjustada(true);">
															<span class="error text-small block"
																ng-if="FormSubTarea.npMetaAjustadaCantidad.$dirty && FormSubTarea.npMetaAjustadaCantidad.$invalid">
																Incorrecto </span> <span class="success text-small"
																ng-if="FormSubTarea.npMetaAjustadaCantidad.$valid">
																Listo </span>
														</div>

														<div class="form-group"
															ng-class="{'has-error':FormSubTarea.npMetaAjustadaDescripcion.$dirty && FormSubTarea.npMetaAjustadaDescripcion.$invalid, 'has-success':FormSubTarea.npMetaAjustadaDescripcion.$valid}">
															<label class="control-label"> Meta Ajustada
																Descripci&oacute;n <span class="symbol required"></span>
															</label>
															<textarea name="npMetaAjustadaDescripcion" rows="5"
																style="width: 100%"
																placeholder="Escriba un meta ajustada descripci&oacute;n"
																class="form-control"
																ng-model="detalles[mAjustadaID].descripcion"
																ng-disabled="!editarA"></textarea>
															<span class="error text-small block"
																ng-if="FormSubTarea.npMetaAjustadaDescripcion.$dirty && FormSubTarea.npMetaAjustadaDescripcion.$invalid">
																Incorrecto </span> <span class="success text-small"
																ng-if="FormSubTarea.npMetaAjustadaDescripcion.$valid">
																Listo </span>
														</div>
													</div>
												</div>
											</div>
											<div class="pull-right">
												<button type="submit" class="btn btn-primary"
													ng-show="editar || editarA">Confirmar</button>
												<a class="btn btn-sm btn-default"
													ng-click="resetformSubTarea(FormSubTarea);"> Cancelar </a>
											</div>
										</div>
									</div>
								</form>
							</div>
							<div class="col-md-6" ng-show="objeto.id > 0">
								<div ng-show="divMetaDistribucionPlanificada"
									class="panel panel-primary">
									<form name="Form" id="formMetaDistribucionPlanificada"
										novalidate
										ng-submit="form.submit(Form,'formMetaDistribucionPlanificada');">
										<span> &nbsp;Distribuci&oacute;n:
											<a class="btn btn-sm btn-primary"
												style="background-color: #00B300 !important">
												Planificado
											</a>
											<span ng-show="detalles[mAjustadaID].cantidad > 0">
												&nbsp;
												<a class="btn btn-sm btn-default"
													uib-tooltip="Copiar Planificado a Ajustado"
													ng-click="copiarPlanificadoAjustado();">
													<i class="fa ti-hand-point-right"></i>
												</a>
												&nbsp;
												<a class="btn btn-sm btn-default"
													ng-click="editarDistribucionAjustado();">
													Ajustado
												</a>
											</span>
											<br>
											&nbsp;Unidad de Tiempo:
											<select name="periodoPlanificado" ng-disabled="!editar"
												ng-model="objetoPlanificada.unidadtiempo"
												ng-change="vLimpio=true;distribucionValores('P');">
													<option value="ME">Mensual</option>
													<option value="BI">Bimensual</option>
													<option value="TM">Trimestral</option>
													<option value="CM">Cuatrimestral</option>
													<option value="SE">Semestral</option>
													<option value="AN">Anual</option>
													<option value="PE">Personalizado</option>
											</select>
										</span>
										<div class="panel-body no-padding panel-white">
											<div class="col-md-12 panel-white no-padding">
												<div>
													<table class="table table-striped">
														<tr>
															<th>Mes</th>
															<th>Meta Cantidad</th>
															<th>Meta Porcentaje</th>
															<th>Descripci&oacute;n/Medio de Verificaci&oacute;n</th>
														</tr>
														<tr ng-repeat="obj in detallesPlanificada">
															<td>{{obj.npMes}}</td>
															<td>
																<input type="number"
																	placeholder="Escriba una cantida para el mes"
																	class="form-control" name="{{'pvalor_'+$index}}"
																	ng-model="obj.metacantidad" numericOnly
																	style="text-align: right;" required decimal="2"
																	ng-disabled="!editar || objetoPlanificada.unidadtiempo!='PE'"
																	ng-change="calcularPorcientoP();">
															</td>
															<td>
																<input type="number"
																	placeholder="Escriba un porciento"
																	class="form-control" name="{{'pporcentaje_'+$index}}"
																	ng-model="obj.lineametavalor" numericOnly
																	style="text-align: right;" required decimal="2"
																	ng-disabled="true"
																	ng-change="">
															</td>
															<td>
																<textarea name="{{'descripcion_'+$index}}"
																	rows="3" style="width: 100%"
																	placeholder="Escriba un descripci&oacute;n"
																	class="form-control" ng-model="obj.observacion"
																	ng-disabled="!editar"></textarea>
															</td>
														</tr>
														<tr>
															<td>Diferencia</td>
															<td>
															    <input type="text" style="text-align:right;" decimal="2"
															        class="form-control" name="diferenciaPlanificadaV" ng-model="diferenciaPlanificadaV"
															        ng-disabled="true">
														    </td>
															<td>
															    <input type="text" style="text-align:right;" decimal="2"
															        class="form-control" ng-model="diferenciaPlanificadaP"
															        ng-disabled="true">
															</td>
															<td></td>
														</tr>
													</table>
												</div>
											</div>
										</div>
										<div class="row">
											<div class="col-md-12">
												<div class="pull-right">
													<button type="submit" class="btn btn-primary"
														ng-show="editar">Guardar</button>
												</div>
											</div>
										</div>
									</form>
								</div>

								<div ng-show="divMetaDistribucionAjustada"
									class="panel panel-primary">
									<form name="Form" id="formMetaDistribucionAjustada" novalidate
										ng-submit="form.submit(Form,'formMetaDistribucionAjustada')">
										<span> &nbsp;Distribuci&oacute;n:
											<a
												class="btn btn-sm btn-default"
												ng-click="editarDistribucionPlanificado();"> Planificado
											</a> &nbsp; <a class="btn btn-sm btn-default"
												uib-tooltip="Copiar Planificado a Ajustado"
												ng-click="copiarPlanificadoAjustado();"> <i
													class="fa ti-hand-point-right"></i>
											</a> &nbsp;
											<a class="btn btn-sm btn-primary"
												style="background-color: #00B300 !important"> Ajustado </a>
											<br>&nbsp;Unidad de
												Tipo:
											<select name="periodoPlanificado" ng-disabled="!editarA"
												ng-model="objetoAjustada.unidadtiempo"
												ng-change="vLimpio=true;distribucionValores('A');">
													<option value="ME">Mensual</option>
													<option value="BI">Bimensual</option>
													<option value="TM">Trimestral</option>
													<option value="CM">Cuatrimestral</option>
													<option value="SE">Semestral</option>
													<option value="AN">Anual</option>
													<option value="PE">Personalizado</option>
											</select>
										</span>
										<div class="panel-body no-padding panel-white">
											<div class="col-md-12 panel-white no-padding">
												<div>
													<table class="table table-striped">
														<tr>
															<th>Mes</th>
															<th>Meta Cantidad</th>
															<th>Meta Porcentaje</th>
															<th>Descripci&oacute;n/Medio de Verificaci&oacute;n</th>
														</tr>
														<tr ng-repeat="obj in detallesAjustada">
															<td>{{obj.npMes}}</td>
															<td>
																<input type="number"
																	placeholder="Escriba una cantida para el mes"
																	class="form-control" name="{{'pvalor_'+$index}}"
																	ng-model="obj.metacantidad" numericOnly
																	style="text-align: right;" required decimal="2"
																	ng-disabled="objetoAjustada.unidadtiempo!='PE'"
																	ng-change="calcularPorcientoA();">
															</td>
															<td>
																<input type="number"
																	placeholder="Escriba una cantida para el mes"
																	class="form-control" name="{{'pporcentaje_'+$index}}"
																	ng-model="obj.lineametavalor" numericOnly
																	style="text-align: right;" required decimal="2"
																	ng-disabled="true"
																	ng-change="">
															</td>
															<td>
																<textarea name="{{'descripcion_'+$index}}"
																	rows="3" style="width: 100%"
																	placeholder="Escriba un descripci&oacute;n"
																	class="form-control" ng-model="obj.observacion"
																	ng-disabled="!editarA"></textarea>
															</td>
														</tr>
														<tr>
															<td>Diferencia</td>
															<td>
															    <input type="text" style="text-align:right;" decimal="2"
															        class="form-control" ng-model="diferenciaAjustadaV"
															        ng-disabled="true">
														    </td>
															<td>
															    <input type="text" style="text-align:right;" decimal="2"
															        class="form-control" ng-model="diferenciaAjustadaP"
															        ng-disabled="true">
															</td>
															<td></td>
														</tr>
													</table>
												</div>
											</div>
										</div>
										<div class="row">
											<div class="col-md-12">
												<div class="pull-right">
													<button type="submit" class="btn btn-primary"
														ng-show="editarA">Guardar</button>
												</div>
											</div>
										</div>
									</form>
								</div>
							</div>
						</div>
					</div>

					<div ng-show="divItem" class="panel-body" id="panelItem">
						<div class="panel-heading">
							<h5 class="panel-title">Item</h5>
						</div>

						<div class="row">
							<div class="col-md-6">
								<form name="FormItem" id="formItem" novalidate
									ng-submit="form.submit(FormItem,'formItem');">
									<div class="pull-right">
										<a class="btn btn-sm btn-default"
											ng-click="resetformItem(FormItem);"> Cancelar </a>
									</div>
									<div class="row">
										<div class="col-md-12">
											<div>
												<div class="form-group"
													ng-class="{'has-error':FormItem.npcodigoitem.$dirty && FormItem.npcodigoitem.$invalid, 'has-success':FormItem.npcodigoitem.$valid}">
													<label class="control-label"> Item C&oacute;digo <span
														class="symbol required"></span>
													</label>
													<div class="input-group">
														<input type="text"
															placeholder="Escriba un item c&oacute;digo"
															class="form-control" name="npcodigoitem"
															ng-disabled="true" ng-model="objeto.npcodigoitem"
															ng-maxlength="10" required> <span
															class="input-group-btn">
															<button type="button" class="btn btn-primary"
																ng-click="abrirItemCodigo()">
																<i class="fa fa-search"></i> Seleccione
															</button>
														</span>
													</div>
													<span class="error text-small block"
														ng-if="FormItem.npcodigoitem.$dirty && FormItem.npcodigoitem.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormItem.npcodigoitem.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormItem.npnombreitem.$dirty && FormItem.npnombreitem.$invalid, 'has-success':FormItem.npnombreitem.$valid}">
													<label class="control-label"> Item Nombre <span
														class="symbol required"></span>
													</label> <input type="text" placeholder="Escriba un item nombre"
														class="form-control" name="npnombreitem"
														ng-model="objeto.npnombreitem" ng-disabled="true" required>
													<span class="error text-small block"
														ng-if="FormItem.npnombreitem.$dirty && FormItem.npnombreitem.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormItem.npnombreitem.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormItem.descripcion.$dirty && FormItem.descripcion.$invalid, 'has-success':FormItem.descripcion.$valid}">
													<label class="control-label"> Descripci&oacute;n <span
														class="symbol required"></span>
													</label>
													<textarea name="descripcion" rows="5" style="width: 100%"
														placeholder="Escriba un descripci&oacute;n"
														class="form-control" ng-model="objeto.descripcion"
														required></textarea>
													<span class="error text-small block"
														ng-if="FormItem.descripcion.$dirty && FormItem.descripcion.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormItem.descripcion.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormItem.npcodigoobra.$dirty && FormItem.npcodigoobra.$invalid, 'has-success':FormItem.npcodigoobra.$valid}">
													<label class="control-label"> Obra C&oacute;digo <span
														class="symbol required"></span>
													</label>
													<div class="input-group">
														<input type="text"
															placeholder="Escriba un obra c&oacute;digo"
															class="form-control" name="npcodigoobra"
															ng-disabled="true" ng-model="objeto.npcodigoobra"
															required> <span class="input-group-btn">
															<button type="button" class="btn btn-primary"
																ng-click="abrirObraCodigo()">
																<i class="fa fa-search"></i> Seleccione
															</button>
														</span>
													</div>
													<span class="error text-small block"
														ng-if="FormItem.npcodigoobra.$dirty && FormItem.npcodigoobra.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormItem.npcodigoobra.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormItem.npnombreobra.$dirty && FormItem.npnombreobra.$invalid, 'has-success':FormItem.npnombreobra.$valid}">
													<label class="control-label"> Obra Nombre <span
														class="symbol required"></span>
													</label> <input type="text" placeholder="Escriba un obra nombre"
														class="form-control" name="npnombreobra"
														ng-model="objeto.npnombreobra" ng-disabled="true" required>
													<span class="error text-small block"
														ng-if="FormItem.npnombreobra.$dirty && FormItem.npnombreobra.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormItem.npnombreobra.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormItem.npcodigofuente.$dirty && FormItem.npcodigofuente.$invalid, 'has-success':FormItem.npcodigofuente.$valid}">
													<label class="control-label"> Fuente Financiamiento
														C&oacute;digo <span class="symbol required"></span>
													</label>
													<div class="input-group">
														<input type="text"
															placeholder="Escriba un fuente financiamiento c&oacute;digo"
															class="form-control" name="npcodigofuente"
															ng-disabled="true" ng-model="objeto.npcodigofuente"
															required> <span class="input-group-btn">
															<button type="button" class="btn btn-primary"
																ng-click="abrirFuenteFinanciamientoCodigo()">
																<i class="fa fa-search"></i> Seleccione
															</button>
														</span>
													</div>
													<span class="error text-small block"
														ng-if="FormItem.npcodigofuente.$dirty && FormItem.npcodigofuente.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormItem.npcodigofuente.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormItem.npnombrefuente.$dirty && FormItem.npnombrefuente.$invalid, 'has-success':FormItem.npnombrefuente.$valid}">
													<label class="control-label"> Fuente Financiamiento
														Nombre <span class="symbol required"></span>
													</label> <input type="text"
														placeholder="Escriba un fuente financiamiento nombre"
														class="form-control" name="npnombrefuente"
														ng-model="objeto.npnombrefuente" ng-disabled="true"
														required> <span class="error text-small block"
														ng-if="FormItem.npnombrefuente.$dirty && FormItem.npnombrefuente.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormItem.npnombrefuente.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormItem.npcodigoorganismo.$dirty && FormItem.npcodigoorganismo.$invalid, 'has-success':FormItem.npcodigoorganismo.$valid}">
													<label class="control-label"> Organismo
														C&oacute;digo <span class="symbol required"></span>
													</label>
													<div class="input-group">
														<input type="text"
															placeholder="Escriba un organismo c&oacute;digo"
															class="form-control" name="npcodigoorganismo"
															ng-disabled="true" ng-model="objeto.npcodigoorganismo"
															required> <span class="input-group-btn">
															<button type="button" class="btn btn-primary"
																ng-click="abrirOrganismoCodigo();">
																<i class="fa fa-search"></i> Seleccione
															</button>
														</span>
													</div>
													<span class="error text-small block"
														ng-if="FormItem.npcodigoorganismo.$dirty && FormItem.npcodigoorganismo.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormItem.npcodigoorganismo.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormItem.npnombreorganismo.$dirty && FormItem.npnombreorganismo.$invalid, 'has-success':FormItem.npnombreorganismo.$valid}">
													<label class="control-label"> Organismo Pr&eacute;stamo Nombre <span
														class="symbol required"></span>
													</label> <input type="text"
														placeholder="Escriba un organismo nombre"
														class="form-control" name="npnombreorganismo"
														ng-model="objeto.npnombreorganismo" ng-disabled="true"
														required> <span class="error text-small block"
														ng-if="FormItem.npnombreorganismo.$dirty && FormItem.npnombreorganismo.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormItem.npnombreorganismo.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormItem.npcodigoorgpres.$dirty && FormItem.npcodigoorgpres.$invalid, 'has-success':FormItem.npcodigoorgpres.$valid}">
													<label class="control-label"> Organismo
														Pr&eacute;stamo C&oacute;digo <span
														class="symbol required"></span>
													</label> <input type="text"
														placeholder="Escriba un organismo pr&eacute;stamo c&oacute;digo"
														class="form-control" name="npcodigoorgpres"
														ng-model="objeto.npcodigoorgpres" required
														ng-disabled="true"> <span
														class="error text-small block"
														ng-if="FormItem.npcodigoorgpres.$dirty && FormItem.npcodigoorgpres.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormItem.npcodigoorgpres.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormItem.npnombreorgpres.$dirty && FormItem.npnombreorgpres.$invalid, 'has-success':FormItem.npnombreorgpres.$valid}">
													<label class="control-label"> Organismo
														Pr&eacute;stamo Nombre <span class="symbol required"></span>
													</label> <input type="text"
														placeholder="Escriba un organismo pr&eacute;stamo nombre"
														class="form-control" name="npnombreorgpres"
														ng-model="objeto.npnombreorgpres" ng-disabled="true"
														required> <span class="error text-small block"
														ng-if="FormItem.npnombreorgpres.$dirty && FormItem.npnombreorgpres.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormItem.npnombreorgpres.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormItem.npcodigocanton.$dirty && FormItem.npcodigocanton.$invalid, 'has-success':FormItem.npcodigocanton.$valid}">
													<label class="control-label"> Cant&oacute;n
														C&oacute;digo <span class="symbol required"></span>
													</label>
													<div class="input-group">
														<input type="text"
															placeholder="Escriba un cant&oacute;n c&oacute;digo"
															class="form-control" name="npcodigocanton"
															ng-disabled="true" ng-model="objeto.npcodigocanton"
															required> <span class="input-group-btn">
															<button type="button" class="btn btn-primary"
																ng-click="abrirCantonCodigo()">
																<i class="fa fa-search"></i> Seleccione
															</button>
														</span>
													</div>
													<span class="error text-small block"
														ng-if="FormItem.npcodigocanton.$dirty && FormItem.npcodigocanton.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormItem.npcodigocanton.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormItem.npnombrecanton.$dirty && FormItem.npnombrecanton.$invalid, 'has-success':FormItem.npnombrecanton.$valid}">
													<label class="control-label"> Cant&oacute;n Nombre
														<span class="symbol required"></span>
													</label> <input type="text"
														placeholder="Escriba un cant&oacute;n nombre"
														class="form-control" name="npnombrecanton"
														ng-model="objeto.npnombrecanton" ng-disabled="true"
														required> <span class="error text-small block"
														ng-if="FormItem.npnombrecanton.$dirty && FormItem.npnombrecanton.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormItem.npnombrecanton.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormItem.estado.$dirty && FormItem.estado.$invalid, 'has-success':FormItem.estado.$valid}">
													<label class="control-label"> Estado <span
														class="symbol required"></span>
													</label> <select class="form-control" name="estado"
														ng-model="objeto.estado" required>
														<option value="A">Activo</option>
														<option value="I">Inactivo</option>
													</select> <span class="error text-small block"
														ng-if="FormItem.estado.$dirty && FormItem.estado.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormItem.estado.$valid"> Listo </span>
												</div>
											</div>
											<div class="pull-right">
												<button type="submit" class="btn btn-primary"
													ng-show="editar">Confirmar</button>
												<a class="btn btn-sm btn-default"
													ng-click="resetformItem(FormItem);"> Cancelar </a>
											</div>
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>

					<div ng-show="divSubItem" class="panel-body" id="panelSubItem">
						<div class="panel-heading">
							<h5 class="panel-title">SubItem</h5>
						</div>

						<div class="row">
							<div class="col-md-6">
								<form name="FormSubItem" id="formSubItem" novalidate
									ng-submit="form.submit(FormSubItem,'formSubItem')">
									<div class="pull-right">
										<a class="btn btn-sm btn-default"
											ng-click="resetformSubItem(FormSubItem);"> Cancelar </a>
									</div>
									<div class="row">
										<div class="col-md-12">
											<div>
												<div class="form-group"
													ng-class="{'has-error':FormSubItem.npcodigosubitem.$dirty && FormSubItem.npcodigosubitem.$invalid, 'has-success':FormSubItem.npcodigosubitem.$valid}">
													<label class="control-label"> C&oacute;digo INCOP <span
														class="symbol required"></span>
													</label>
													<div class="input-group">
														<input type="text"
															placeholder="Escriba un c&oacute;digo incop"
															class="form-control" name="npcodigosubitem"
															ng-disabled="true" ng-model="objeto.npcodigosubitem"
															required> <span class="input-group-btn">
															<button type="button" class="btn btn-primary"
																ng-click="abrirCodigoINCOP()" ng-disabled="!editar">
																<i class="fa fa-search"></i> Seleccione
															</button>
														</span>
													</div>
													<span class="error text-small block"
														ng-if="FormSubItem.npcodigosubitem.$dirty && FormSubItem.npcodigosubitem.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormSubItem.npcodigosubitem.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormSubItem.npnombresubitem.$dirty && FormSubItem.npnombresubitem.$invalid, 'has-success':FormSubItem.npnombresubitem.$valid}">
													<label class="control-label"> Nombre <span
														class="symbol required"></span>
													</label>
													<input type="text" placeholder="Escriba un nombre"
														class="form-control" name="npnombresubitem"
														ng-model="objeto.npnombresubitem" required
														ng-disabled="true">
													<span class="error text-small block"
														ng-if="FormSubItem.npnombresubitem.$dirty && FormSubItem.npnombresubitem.$invalid">
														Incorrecto
													</span>
													<span class="success text-small"
														ng-if="FormSubItem.npnombresubitem.$valid">
														Listo
													</span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormSubItem.npprecio.$dirty && FormSubItem.npprecio.$invalid, 'has-success':FormSubItem.npprecio.$valid}">
													<label class="control-label"> Precio <span
														class="symbol required"></span>
													</label> <input type="text" numericOnly style="text-align: right;"
														format="currency" placeholder="Escriba un precio"
														class="form-control" name="npprecio"
														ng-model="objeto.npprecio" required ng-disabled="true">
													<span class="error text-small block"
														ng-if="FormSubItem.npprecio.$dirty && FormSubItem.npprecio.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormSubItem.npprecio.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormSubItem.nptipoprodnombre.$dirty && FormSubItem.nptipoprodnombre.$invalid, 'has-success':FormSubItem.nptipoprodnombre.$valid}">
													<label class="control-label"> Tipo Producto <span
														class="symbol required"></span>
													</label>
													<div class="input-group">
														<input type="text" placeholder="Escriba un tipo producto"
															class="form-control" name="nptipoprodnombre"
															ng-disabled="true" ng-model="objeto.nptipoprodnombre"
															required> <span class="input-group-btn">
															<button type="button" class="btn btn-primary"
																ng-click="abrirTipoProducto()" ng-disabled="!editar">
																<i class="fa fa-search"></i> Seleccione
															</button>
														</span>
													</div>
													<span class="error text-small block"
														ng-if="FormSubItem.nptipoprodnombre.$dirty && FormSubItem.nptipoprodnombre.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormSubItem.nptipoprodnombre.$valid"> Listo
													</span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormSubItem.npprocedimientonombre.$dirty && FormSubItem.npprocedimientonombre.$invalid, 'has-success':FormSubItem.npprocedimientonombre.$valid}">
													<label class="control-label"> Procedimiento <span
														class="symbol required"></span>
													</label>
													<div class="input-group">
														<input type="text" placeholder="Escriba un procedimiento"
															class="form-control" name="npprocedimientonombre"
															ng-disabled="true"
															ng-model="objeto.npprocedimientonombre" required>
														<span class="input-group-btn">
															<button type="button" class="btn btn-primary"
																ng-click="abrirProcedimiento()"
																ng-disabled="ninguno || !editar">
																<i class="fa fa-search"></i> Seleccione
															</button>
														</span>
													</div>
													<span class="error text-small block"
														ng-if="FormSubItem.npprocedimientonombre.$dirty && FormSubItem.npprocedimientonombre.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormSubItem.npprocedimientonombre.$valid">
														Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormSubItem.nptiporegnombre.$dirty && FormSubItem.nptiporegnombre.$invalid, 'has-success':FormSubItem.nptiporegnombre.$valid}">
													<label class="control-label"> Tipo R&eacute;gimen <span
														class="symbol required"></span>
													</label>
													<div class="input-group">
														<input type="text"
															placeholder="Escriba un tipo r&eacute;gimen"
															class="form-control" name="nptiporegnombre"
															ng-disabled="true" ng-model="objeto.nptiporegnombre"
															required> <span class="input-group-btn">
															<button type="button" class="btn btn-primary"
																ng-click="abrirTipoRegimen()"
																ng-disabled="ninguno || !editar">
																<i class="fa fa-search"></i> Seleccione
															</button>
														</span>
													</div>
													<span class="error text-small block"
														ng-if="FormSubItem.nptiporegnombre.$dirty && FormSubItem.nptiporegnombre.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormSubItem.nptiporegnombre.$valid"> Listo </span>
												</div>

												<div class="form-group"
													ng-class="{'has-error':FormSubItem.estado.$dirty && FormSubItem.estado.$invalid, 'has-success':FormSubItem.estado.$valid}">
													<label class="control-label"> Estado <span
														class="symbol required"></span>
													</label> <select class="form-control" name="estado"
														ng-model="objeto.estado" required ng-disabled="!editar">
														<option value="A">Activo</option>
														<option value="I">Inactivo</option>
													</select> <span class="error text-small block"
														ng-if="FormSubItem.estado.$dirty && FormSubItem.estado.$invalid">
														Incorrecto </span> <span class="success text-small"
														ng-if="FormSubItem.estado.$valid"> Listo </span>
												</div>
											</div>

											<div class="panel-heading">
												<h5 class="panel-title">Presupuesto</h5>
											</div>

											<div class="row">
												<div class="col-md-6">
													<div class="form-group"
														ng-class="{'has-error':FormSubItem.npSaldoActividadPlanificado.$dirty && FormSubItem.npSaldoActividadPlanificado.$invalid, 'has-success':FormSubItem.npSaldoActividadPlanificado.$valid}">
														<label class="control-label">
															Saldo Actividad Planificado
															<span class="symbol required"></span>
														</label>
														<input type="text" numericOnly decimal="2"
															placeholder="Escriba un saldo actividad planificado"
															style="text-align: right; color: Green !important; font-weight: bold !important;"
															class="form-control" name="npSaldoActividadPlanificado"
															ng-model="objeto.tplanificado" ng-disabled="true">
														<span class="error text-small block"
															ng-if="FormSubItem.npSaldoActividadPlanificado.$dirty && FormSubItem.npSaldoActividadPlanificado.$invalid">
															Incorrecto </span> <span class="success text-small"
															ng-if="FormSubItem.npSaldoActividadPlanificado.$valid">
															Listo </span>
													</div>

													<div class="form-group"
														ng-class="{'has-error':FormSubItem.npCantidadPlanificada.$dirty && FormSubItem.npCantidadPlanificada.$invalid, 'has-success':FormSubItem.npCantidadPlanificada.$valid}">
														<label class="control-label"> Cantidad
															Planificada <span class="symbol required"></span>
														</label>
														<input type="text" numericOnly
															style="text-align: right;" decimal="2"
															placeholder="Escriba un cantidad planificada" required
															onClick="this.select();" class="form-control"
															name="npCantidadPlanificada"
															ng-model="detalles[mPlanificadaID].cantidad"
															ng-change="calcularTotalPlanificado();"
															ng-disabled="!editar">
														<span class="error text-small block"
															ng-if="FormSubItem.npCantidadPlanificada.$dirty && FormSubItem.npCantidadPlanificada.$invalid">
															Incorrecto
														</span>
														<span class="success text-small"
															ng-if="FormSubItem.npCantidadPlanificada.$valid">
															Listo
														</span>
													</div>

													<div class="form-group"
														ng-class="{'has-error':FormSubItem.npValorPlanificado.$dirty && FormSubItem.npValorPlanificado.$invalid, 'has-success':FormSubItem.npValorPlanificado.$valid}">
														<label class="control-label">
															Valor Planificado
															<span class="symbol required"></span>
														</label>
														<input type="text" numericOnly
															style="text-align: right;" decimal="2"
															placeholder="Escriba un valor planificado" required
															onClick="this.select();" class="form-control"
															name="npValorPlanificado"
															ng-model="detalles[mPlanificadaID].valor"
															ng-change="calcularTotalPlanificado();"
															ng-disabled="!editar">
														<span class="error text-small block"
															ng-if="FormSubItem.npValorPlanificado.$dirty && FormSubItem.npValorPlanificado.$invalid">
															Incorrecto
														</span>
														<span class="success text-small"
															ng-if="FormSubItem.npValorPlanificado.$valid">
															Listo
														</span>
													</div>

													<div class="form-group"
														ng-class="{'has-error':FormSubItem.npTotalPlanificado.$dirty && FormSubItem.npTotalPlanificado.$invalid, 'has-success':FormSubItem.npTotalPlanificado.$valid}">
														<label class="control-label"> Total Planificado <span
															class="symbol required"></span>
														</label>
														<input type="text" numericOnly
															style="text-align: right;" decimal="2"
															placeholder="Escriba un total planificado"
															class="form-control" name="npTotalPlanificado"
															ng-model="npTotalPlanificado" ng-disabled="true"
															ng-max="objetoTplanificado" required>
														<span class="error text-small block"
															ng-if="FormSubItem.npTotalPlanificado.$dirty && FormSubItem.npTotalPlanificado.$invalid">
															Incorrecto </span> <span class="success text-small"
															ng-if="FormSubItem.npTotalPlanificado.$valid">
															Listo </span>
													</div>
												</div>
												<div class="col-md-6">
													<div class="form-group"
														ng-class="{'has-error':FormSubItem.npSaldoActividadAjustado.$dirty && FormSubItem.npSaldoActividadAjustado.$invalid, 'has-success':FormSubItem.npSaldoActividadAjustado.$valid}">
														<label class="control-label">
															Saldo Actividad Ajustado
															<span class="symbol required"></span>
														</label>
														<input type="text" numericOnly decimal="2"
															placeholder="Escriba un saldo actividad ajustado"
															style="text-align: right; color: Green !important; font-weight: bold !important;"
															class="form-control" name="npSaldoActividadAjustado"
															ng-model="objeto.tacumulado" ng-disabled="true">
														<span class="error text-small block"
															ng-if="FormSubItem.npSaldoActividadAjustado.$dirty && FormSubItem.npSaldoActividadAjustado.$invalid">
															Incorrecto </span> <span class="success text-small"
															ng-if="FormSubItem.npSaldoActividadAjustado.$valid">
															Listo </span>
													</div>

													<div class="form-group"
														ng-class="{'has-error':FormSubItem.npCantidadPlanificada.$dirty && FormSubItem.npCantidadPlanificada.$invalid, 'has-success':FormSubItem.npCantidadPlanificada.$valid}">
														<label class="control-label"> Cantidad Ajustado <span
															class="symbol required"></span>
														</label>
														<input type="text" numericOnly
															style="text-align: right;" decimal="2"
															placeholder="Escriba un cantidad planificada" required
															onClick="this.select();" class="form-control"
															name="npCantidadAjustado"
															ng-model="detalles[mAjustadaID].cantidad"
															ng-change="calcularTotalAjustado();"
															ng-disabled="!editarA">
														<span class="error text-small block"
															ng-if="FormSubItem.npCantidadPlanificada.$dirty && FormSubItem.npCantidadPlanificada.$invalid">
															Incorrecto
														</span>
														<span class="success text-small"
															ng-if="FormSubItem.npCantidadPlanificada.$valid">
															Listo
														</span>
													</div>

													<div class="form-group"
														ng-class="{'has-error':FormSubItem.npValorAjustado.$dirty && FormSubItem.npValorAjustado.$invalid, 'has-success':FormSubItem.npValorAjustado.$valid}">
														<label class="control-label">
															Valor Ajustado
															<span class="symbol required"></span>
														</label>
														<input type="text" numericOnly
															style="text-align: right;" decimal="2"
															placeholder="Escriba un valor ajustado" required
															onClick="this.select();" class="form-control"
															name="npValorAjustado"
															ng-model="detalles[mAjustadaID].valor"
															ng-change="calcularTotalAjustado();"
															ng-disabled="!editarA">
														<span class="error text-small block"
															ng-if="FormSubItem.npValorAjustado.$dirty && FormSubItem.npValorAjustado.$invalid">
															Incorrecto </span> <span class="success text-small"
															ng-if="FormSubItem.npValorAjustado.$valid"> Listo
														</span>
													</div>

													<div class="form-group"
														ng-class="{'has-error':FormSubItem.npTotalAjustado.$dirty && FormSubItem.npTotalAjustado.$invalid, 'has-success':FormSubItem.npTotalAjustado.$valid}">
														<label class="control-label"> Total Ajustado <span
															class="symbol required"></span>
														</label>
														<input type="text" numericOnly
															style="text-align: right;" decimal="2"
															placeholder="Escriba un total ajustado"
															class="form-control" name="npTotalAjustado"
															ng-model="npTotalAjustado" ng-disabled="true"
															ng-max="objetoTacumulado">
														<span
															class="error text-small block"
															ng-if="FormSubItem.npTotalAjustado.$dirty && FormSubItem.npTotalAjustado.$invalid">
															Incorrecto </span> <span class="success text-small"
															ng-if="FormSubItem.npTotalAjustado.$valid"> Listo
														</span>
													</div>
												</div>
											</div>
											<div class="pull-right">
												<button type="submit" class="btn btn-primary" ng-show="editarA || editar">
													Confirmar</button>
												<a class="btn btn-sm btn-default"
													ng-click="resetformSubItem(FormSubItem);"> Cancelar </a>
											</div>
										</div>
									</div>
								</form>
							</div>
							<div class="col-md-6" ng-show="objeto.id > 0">
								<div ng-show="divMetaDistribucionPlanificada"
									class="panel panel-primary">
									<form name="Form" id="formMetaDistribucionPlanificada"
										novalidate
										ng-submit="form.submit(Form,'formMetaDistribucionPlanificada')">
										<span>
											&nbsp;Distribuci&oacute;n:
											<a class="btn btn-sm btn-primary"
												style="background-color: #00B300 !important">
												Planificado
											</a>
											<span ng-show="npTotalAjustado > 0">
												&nbsp;
												<a class="btn btn-sm btn-default"
													uib-tooltip="Copiar Planificado a Ajustado"
													ng-click="copiarPlanificadoAjustado();">
													<i class="fa ti-hand-point-right"></i>
												</a>
												&nbsp;
												<a class="btn btn-sm btn-default"
													ng-click="editarDistribucionAjustado();">
													Ajustado
												</a>
												&nbsp;
												<a class="btn btn-sm btn-default"
													ng-click="editarDistribucionDevengo();">
													Devengo
												</a>
											</span>
											<br>
											&nbsp;Unidad de Tiempo:
											<select name="periodoPlanificado" ng-disabled="!editar"
												ng-model="objetoPlanificada.unidadtiempo"
												ng-change="vLimpio=true;distribucionValores('P');">
													<option value="ME">Mensual</option>
													<option value="BI">Bimensual</option>
													<option value="TM">Trimestral</option>
													<option value="CM">Cuatrimestral</option>
													<option value="SE">Semestral</option>
													<option value="AN">Anual</option>
													<option value="PE">Personalizado</option>
											</select>
										</span>
										<div class="panel-body no-padding panel-white">
											<div class="col-md-12 panel-white no-padding">
												<div>
													<table class="table table-striped">
														<tr>
															<th>Mes</th>
															<th>Valor</th>
														</tr>
														<tr ng-repeat="obj in detallesPlanificada">
															<td>{{obj.npMes}}</td>
															<td>
																<input type="number"
																	placeholder="Escriba una cantida para el mes"
																	class="form-control" name="{{'pvalor_'+$index}}"
																	ng-model="obj.valor" numericOnly
																	style="text-align: right;" required decimal="2"
																	ng-disabled="!editar || objetoPlanificada.unidadtiempo!='PE'"
																	ng-change="calcularPorcientoP();">
															</td>
														</tr>
														<tr>
															<td>Diferencia</td>
															<td>
															    <input type="text" style="text-align:right;" decimal="2"
															        class="form-control" name="diferenciaPlanificadaV" ng-model="diferenciaPlanificadaV"
															        ng-disabled="true">
														    </td>
														</tr>
													</table>
												</div>
											</div>
										</div>
										<div class="row">
											<div class="col-md-12">
												<div class="pull-right">
													<button type="submit" class="btn btn-primary"
														ng-show="editar">Guardar</button>
												</div>
											</div>
										</div>
									</form>
								</div>

								<div ng-show="divMetaDistribucionAjustada"
									class="panel panel-primary">
									<form name="Form" id="formMetaDistribucionAjustada" novalidate
										ng-submit="form.submit(Form,'formMetaDistribucionAjustada')">
										<span> &nbsp;Distribuci&oacute;n:
											<a class="btn btn-sm btn-default"
												ng-click="editarDistribucionPlanificado();"> Planificado
											</a>
											&nbsp;
											<a class="btn btn-sm btn-default"
												uib-tooltip="Copiar Planificado a Ajustado"
												ng-click="copiarPlanificadoAjustado();">
												<i class="fa ti-hand-point-right"></i>
											</a>
											&nbsp;
											<a class="btn btn-sm btn-primary"
												style="background-color: #00B300 !important">
												Ajustado
											</a>
											&nbsp;
											<a class="btn btn-sm btn-default"
												ng-click="editarDistribucionDevengo();"> Devengo </a> <br>&nbsp;Unidad
												Tipo:
											<select name="periodoPlanificado" ng-disabled="!editarA"
												ng-model="objetoAjustada.unidadtiempo"
												ng-change="vLimpio=true;distribucionValores('A');">
													<option value="ME">Mensual</option>
													<option value="BI">Bimensual</option>
													<option value="TM">Trimestral</option>
													<option value="CM">Cuatrimestral</option>
													<option value="SE">Semestral</option>
													<option value="AN">Anual</option>
													<option value="PE">Personalizado</option>
											</select>
										</span>
										<div class="panel-body no-padding panel-white">
											<div class="col-md-12 panel-white no-padding">
												<div>
													<table class="table table-striped">
														<tr>
															<th>Mes</th>
															<th>Valor</th>
														</tr>
														<tr ng-repeat="obj in detallesAjustada">
															<td>{{obj.npMes}}</td>
															<td>
																<input type="number"
																	placeholder="Escriba una cantida para el mes"
																	class="form-control" name="{{'pvalor_'+$index}}"
																	ng-model="obj.valor" numericOnly
																	style="text-align: right;" required decimal="2"
																	ng-disabled="objetoAjustada.unidadtiempo!='PE'"
																	ng-change="calcularPorcientoA();">
															</td>
														</tr>
														<tr>
															<td>Diferencia</td>
															<td>
															    <input type="text" style="text-align:right;" decimal="2"
															        class="form-control" ng-model="diferenciaAjustadaV"
															        ng-disabled="true">
														    </td>
														</tr>
													</table>
												</div>
											</div>
										</div>
										<div class="row">
											<div class="col-md-12">
												<div class="pull-right">
													<button type="submit" class="btn btn-primary"
														ng-show="editarA">Guardar</button>
												</div>
											</div>
										</div>
									</form>
								</div>

								<div ng-show="divMetaDistribucionDevengo"
									class="panel panel-primary">
									<form name="Form" id="formMetaDistribucionDevengo" novalidate
										ng-submit="form.submit(Form,'formMetaDistribucionDevengo')">
										<span> &nbsp;Distribuci&oacute;n:
										 <a
											class="btn btn-sm btn-default"
											ng-click="editarDistribucionPlanificado();"> Planificado
										</a> &nbsp; <a class="btn btn-sm btn-default"
											uib-tooltip="Copiar Planificado a Ajustado"
											ng-click="copiarPlanificadoAjustado();"> <i
												class="fa ti-hand-point-right"></i>
										</a> &nbsp; <a class="btn btn-sm btn-default"
											ng-click="editarDistribucionAjustado();"> Ajustado </a>
											&nbsp; <a class="btn btn-sm btn-primary"
											style="background-color: #00B300 !important"> Devengo </a> <br>&nbsp;Unidad
											Tipo: <select name="periodoPlanificado" ng-disabled="!editarA"
											ng-model="objetoDevengo.unidadtiempo"
											ng-change="vLimpio=true;distribucionValores('D');">
												<option value="ME">Mensual</option>
												<option value="BI">Bimensual</option>
												<option value="TM">Trimestral</option>
												<option value="CM">Cuatrimestral</option>
												<option value="SE">Semestral</option>
												<option value="AN">Anual</option>
												<option value="PE">Personalizado</option>
										</select>
										</span>
										<div class="panel-body no-padding panel-white">
											<div class="col-md-12 panel-white no-padding">
												<div>
													<table class="table table-striped">
														<tr>
															<th>Mes</th>
															<th>Valor</th>
														</tr>
														<tr ng-repeat="obj in detallesDevengo">
															<td>{{obj.npMes}}</td>
															<td><input type="number"
																placeholder="Escriba una cantida para el mes"
																class="form-control" name="{{'pvalor_'+$index}}"
																ng-model="obj.valor" numericOnly
																style="text-align: right;" required decimal="2"
																ng-disabled="!editarA || objetoDevengo.unidadtiempo!='PE'"
																ng-change="calcularPorcientoA();"></td>
														</tr>
													</table>
												</div>
											</div>
										</div>
										<div class="row">
											<div class="col-md-12">
												<div class="pull-right">
													<button type="submit" class="btn btn-primary"
														ng-show="editarA">Guardar</button>
												</div>
											</div>
										</div>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="panel-body" ng-show="edicionMatrizPresupuesto">
					<div class="panel-heading">
						<h4 class="panel-title">Matriz de Presupuesto</h4>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="panel panel-white">
								<div class="panel-heading">
									<h4 class="panel-title">Unidad</h4>
								</div>
								<div class="panel-body">
									<div class="form-group has-success">
										<label class="control-label"> Instituci&oacute;n </label> <input
											type="text" placeholder="Escriba un instituci&oacute;n"
											class="form-control" name="nombreinstitucion"
											ng-model="nombreinstitucion" required ng-disabled="true">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> Entidad Operativa
											Desconcentrada </label> <input type="text"
											placeholder="Escriba un entidad operativa desconcentrada"
											class="form-control" name="nombreinstentidad"
											ng-model="nombreinstentidad" required ng-disabled="true">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> Unidad Desceoncentrada </label>
										<input type="text"
											placeholder="Escriba un unidad desceoncentrada"
											class="form-control" name="nombreunidad"
											ng-model="nombreunidad" required ng-disabled="true">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> Tipo </label> <select
											class="form-control" name="tipo" ng-model="tipo" required>
											<option value="P">Planificada</option>
											<option value="A">Ajustado</option>
										</select>
									</div>
								</div>
								<div class="panel-footer pull-right">
									<a class="btn btn-sm btn-primary" ng-click="renovar();">
										Renovar </a> <a class="btn btn-sm btn-default"
										ng-click="volver();"> Volver </a>
								</div>
							</div>
						</div>
						<div class="col-md-12">
							<div class="panel panel-white" id="panel1">
								<div class="panel-heading">
									<h4 class="panel-title">SubActividad</h4>
								</div>
								<div class="panel-body">
									<div class="form-group has-success">
										<label class="control-label"> Programa </label> <input
											type="text" class="form-control" name="programa"
											ng-model="programa" required ng-disabled="true">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> Proyecto </label> <input
											type="text" class="form-control" name="proyecto"
											ng-model="proyecto" required ng-disabled="true">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> Actividad </label> <input
											type="text" class="form-control" name="actividad"
											ng-model="actividad" required ng-disabled="true">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> SubActividad </label> <input
											type="text" class="form-control" name="subactividad"
											ng-model="subactividad" required ng-disabled="true">
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-12">
							<table class="table table-bordered">
								<tr>
									<td>Tarea</td>
									<td>Subtarea</td>
									<td>Item C&oacute;digo</td>
									<td>Subitem C&oacute;digo</td>
									<td>Descripci&oacute;n</td>
									<td>Presupuesto</td>
									<td>Observaci&oacute;n</td>
								</tr>
								<tr ng-repeat="obj in detallePA" class="table-stylish">
									<td>
										{{ obj.tareacodigo }}: {{ obj.tareanombre }}
									</td>
									<td>
										{{ obj.subtareacodigo }}: {{ obj.subtareanombre }}
									</td>
									<td>
										{{ obj.itemcodigo }}
									</td>
									<td>{{ obj.subitemcodigo }}</td>
									<td>{{ obj.subitemnombre }}</td>
									<td style="text-align: right;">
										{{ obj.presupuesto | number : 2 }}
									</td>
									<td>{{ obj.observacion }}</td>
								</tr>
							</table>
						</div>
					</div>
				</div>

				<div class="panel-body" ng-show="edicionMatrizMetas">
					<div class="panel-heading">
						<h5 class="panel-title">Matriz de Metas</h5>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="panel panel-white">
								<div class="panel-heading">
									<h4 class="panel-title">Unidad</h4>
								</div>
								<div class="panel-body">
									<div class="form-group has-success">
										<label class="control-label"> Instituci&oacute;n </label> <input
											type="text" placeholder="Escriba un instituci&oacute;n"
											class="form-control" name="nombreinstitucion"
											ng-model="nombreinstitucion" required ng-disabled="true">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> Entidad Operativa
											Desconcentrada </label> <input type="text"
											placeholder="Escriba un entidad operativa desconcentrada"
											class="form-control" name="nombreinstentidad"
											ng-model="nombreinstentidad" required ng-disabled="true">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> Unidad Desceoncentrada </label>
										<input type="text"
											placeholder="Escriba un unidad desceoncentrada"
											class="form-control" name="nombreunidad"
											ng-model="nombreunidad" required ng-disabled="true">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> Tipo </label> <select
											class="form-control" name="tipo" ng-model="tipo" required>
											<option value="P">Planificada</option>
											<option value="A">Ajustado</option>
										</select>
									</div>
								</div>
								<div class="panel-footer pull-right">
									<a class="btn btn-sm btn-primary" ng-click="renovar();">
										Renovar </a> <a class="btn btn-sm btn-default"
										ng-click="volver();"> Volver </a>
								</div>
							</div>
						</div>
						<div class="col-md-12">
							<div class="panel panel-white" id="panel1">
								<div class="panel-heading">
									<h4 class="panel-title">SubActividad</h4>
								</div>
								<div class="panel-body">
									<div class="form-group has-success">
										<label class="control-label"> Programa </label> <input
											type="text" class="form-control" name="programa"
											ng-model="programa" required ng-disabled="true">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> Proyecto </label> <input
											type="text" class="form-control" name="proyecto"
											ng-model="proyecto" required ng-disabled="true">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> Actividad </label> <input
											type="text" class="form-control" name="actividad"
											ng-model="actividad" required ng-disabled="true">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> SubActividad </label> <input
											type="text" class="form-control" name="subactividad"
											ng-model="subactividad" required ng-disabled="true">
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-12">
							<table class="table table-bordered">
								<tr>
									<td>Tarea</td>
									<td>Ponderaci&oacute;n</td>
									<td>Subtarea</td>
									<td>Ponderaci&oacute;n</td>
									<td>Descripci&oacute;n</td>
									<td>Meta</td>
									<td>Mes</td>
									<td>Observaci&oacute;n</td>
								</tr>
								<tr ng-repeat="obj in detallePA" class="table-stylish">
									<td>
										{{ obj.tareacodigo }}: {{ obj.tareanombre }}
									</td>
									<td style="text-align: right;">
										{{ obj.tareaponderacion | number : 2 }}
									</td>
									<td>
										{{ obj.subtareacodigo }}: {{ obj.subtareanombre }}
									</td>
									<td style="text-align: right;">
										{{ obj.subtareaponderacion | number : 2 }}</td>
									<td>
										{{ obj.descripcion }}
									</td>
									<td style="text-align: right;">
										{{ obj.meta | number : 2 }}
									</td>
									<td>{{ obj.npMes }}</td>
									<td>{{ obj.observacion }}</td>
								</tr>
							</table>
						</div>
					</div>
				</div>

				<div class="panel-body" ng-show="aprobacionPlanificacion">
					<div class="panel-heading">
						<h5 class="panel-title">
							Solicitar Planificaci&oacute;n
						</h5>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="panel panel-white">
								<div class="panel-heading">
									<h4 class="panel-title">Presupuesto</h4>
								</div>
								<div class="panel-body">
									<div class="form-group has-success">
										<label class="control-label"> C&oacute;digo </label> <input
											type="text" ng-disabled="true" class="form-control"
											name="fCodigo" ng-model="objetoPA.codigopresup">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> Nombre </label> <input
											type="text" ng-disabled="true" class="form-control"
											name="fNombre" ng-model="objetoPA.nombre">
									</div>
								</div>
								<div class="panel-footer pull-right">
									<a class="btn btn-sm btn-primary"
										ng-click="editarAprobarPlanificacion();"> Aprobar </a>
									<a class="btn btn-sm btn-default" ng-click="volver();">
										Volver </a>
								</div>
							</div>
						</div>
						<div class="col-md-12">
							<div ng-show="detallesPA != null">
								<table class="table table-bordered">
									<tr>
										<td></td>
										<td>#</td>
										<td>Nivel</td>
										<td>Observaci&oacute;n</td>
									</tr>
									<tr ng-repeat="obj in detallesPA" class="table-stylish">
										<td>
											<a class="btn btn-sm btn-primary"
												style="background-color: #00B300 !important"
												uib-tooltip="Modificar"
												ng-click="modificarPresupuestoAjustado(obj, 'P');">
												<i class="fa ti-layers-alt"></i>
											</a>
										</td>
										<td>{{ $index + 1 }}</td>
										<td><span ng-if="obj.nivel == 'AC'"> ACTIVIDAD </span> <span
											ng-if="obj.nivel == 'SA'"> SUBACTIVIDAD </span> <span
											ng-if="obj.nivel == 'TA'"> TAREA </span> <span
											ng-if="obj.nivel == 'ST'"> SUBTAREA </span> <span
											ng-if="obj.nivel == 'IT'"> ITEM </span> <span
											ng-if="obj.nivel == 'SI'"> SUBITEM </span></td>
										<td>{{ obj.mensaje }}</td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</div>

				<div class="panel-body" ng-show="aprobacionAjustado">
					<div class="panel-heading">
						<h5 class="panel-title">Solicitar Ajustado</h5>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="panel panel-white">
								<div class="panel-heading">
									<h4 class="panel-title">Ajustado</h4>
								</div>
								<div class="panel-body">
									<div class="form-group has-success">
										<label class="control-label"> C&oacute;digo </label> <input
											type="text" ng-disabled="true" class="form-control"
											name="fCodigo" ng-model="objetoPA.codigopresup">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> Nombre </label> <input
											type="text" ng-disabled="true" class="form-control"
											name="fNombre" ng-model="objetoPA.nombre">
									</div>
								</div>
								<div class="panel-footer pull-right">
									<a class="btn btn-sm btn-primary"
										ng-click="editarAprobarAjustada();">
										Aprobar
									</a>
									<a class="btn btn-sm btn-default" ng-click="volver();">
										Volver
									</a>
								</div>
							</div>
						</div>
						<div class="col-md-12">
							<div ng-show="detallesPA != null">
								<table class="table table-bordered">
									<tr>
										<td></td>
										<td>#</td>
										<td>Nivel</td>
										<td>Observaci&oacute;n</td>
									</tr>
									<tr ng-repeat="obj in detallesPA" class="table-stylish">
										<td>
											<a class="btn btn-sm btn-primary"
												style="background-color: #00B300 !important"
												uib-tooltip="Modificar"
												ng-click="modificarPresupuestoAjustado(obj, 'A');">
												<i class="fa ti-layers-alt"></i>
											</a>
										</td>
										<td>{{ $index + 1 }}</td>
										<td><span ng-if="obj.nivel == 'AC'"> ACTIVIDAD </span> <span
											ng-if="obj.nivel == 'SA'"> SUBACTIVIDAD </span> <span
											ng-if="obj.nivel == 'TA'"> TAREA </span> <span
											ng-if="obj.nivel == 'ST'"> SUBTAREA </span> <span
											ng-if="obj.nivel == 'IT'"> ITEM </span> <span
											ng-if="obj.nivel == 'SI'"> SUBITEM </span></td>
										<td>{{ obj.mensaje }}</td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</div>

				<div class="panel-body" ng-show="edicionMatrizPresupuestoAP">
					<div class="panel-heading">
						<h4 class="panel-title">Matriz de Presupuesto</h4>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="panel panel-white">
								<div class="panel-heading">
									<h4 class="panel-title">Unidad</h4>
								</div>
								<div class="panel-body">
									<div class="form-group has-success">
										<label class="control-label"> Instituci&oacute;n </label> <input
											type="text" placeholder="Escriba un instituci&oacute;n"
											class="form-control" name="nombreinstitucion"
											ng-model="nombreinstitucion" required ng-disabled="true">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> Entidad Operativa
											Desconcentrada </label> <input type="text"
											placeholder="Escriba un entidad operativa desconcentrada"
											class="form-control" name="nombreinstentidad"
											ng-model="nombreinstentidad" required ng-disabled="true">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> Unidad Desceoncentrada </label>
										<input type="text"
											placeholder="Escriba un unidad desceoncentrada"
											class="form-control" name="nombreunidad"
											ng-model="nombreunidad" required ng-disabled="true">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> Tipo </label> <select
											class="form-control" name="tipo" ng-model="tipo" required>
											<option value="P">Planificada</option>
											<option value="A">Ajustado</option>
										</select>
									</div>
								</div>
								<div class="panel-footer pull-right">
									<a class="btn btn-sm btn-default" ng-click="renovarAP();">
										Renovar </a> <a class="btn btn-sm btn-primary"
										ng-click="guardar('P');"> Guardar </a> <a
										class="btn btn-sm btn-default" ng-click="volver();">
										Volver </a>
								</div>
							</div>
						</div>
						<div class="col-md-12">
							<div class="panel panel-white" id="panel1">
								<div class="panel-heading">
									<h4 class="panel-title">SubActividad</h4>
								</div>
								<div class="panel-body">
									<div class="form-group has-success">
										<label class="control-label"> Programa </label> <input
											type="text" class="form-control" name="programa"
											ng-model="programa" required ng-disabled="true">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> Proyecto </label> <input
											type="text" class="form-control" name="proyecto"
											ng-model="proyecto" required ng-disabled="true">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> Actividad </label> <input
											type="text" class="form-control" name="actividad"
											ng-model="actividad" required ng-disabled="true">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> SubActividad </label> <input
											type="text" class="form-control" name="subactividad"
											ng-model="subactividad" required ng-disabled="true">
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-12">
							<table class="table table-bordered">
								<tr>
									<td>Tarea</td>
									<td>Subtarea</td>
									<td>Item C&oacute;digo</td>
									<td>Subitem C&oacute;digo</td>
									<td>Descripci&oacute;n</td>
									<td>Presupuesto</td>
									<td>Observaci&oacute;n</td>
								</tr>
								<tr ng-repeat="obj in detalles" class="table-stylish">
									<td>
										{{ obj.tareacodigo }}: {{ obj.tareanombre }}
									</td>
									<td>
										{{ obj.subtareacodigo }}: {{ obj.subtareanombre }}
									</td>
									<td>
										{{ obj.itemcodigo }}
									</td>
									<td>{{ obj.subitemcodigo }}</td>
									<td>{{ obj.subitemnombre }}</td>
									<td style="text-align: right;">
										{{ obj.presupuesto | number : 2 }}
									</td>
									<td>
										<input type="text"
											placeholder="Escriba una observacion" class="form-control"
											name="{{'obcerv_'+$index}}" ng-model="obj.observacion"
											ng-change="editadoObservacion($index);">
									</td>
								</tr>
							</table>
						</div>
					</div>
				</div>

				<div class="panel-body" ng-show="edicionMatrizMetasAP">
					<div class="panel-heading">
						<h5 class="panel-title">Matriz de Metas</h5>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="panel panel-white">
								<div class="panel-heading">
									<h4 class="panel-title">Unidad</h4>
								</div>
								<div class="panel-body">
									<div class="form-group has-success">
										<label class="control-label"> Instituci&oacute;n </label> <input
											type="text" placeholder="Escriba un instituci&oacute;n"
											class="form-control" name="nombreinstitucion"
											ng-model="nombreinstitucion" required ng-disabled="true">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> Entidad Operativa
											Desconcentrada </label> <input type="text"
											placeholder="Escriba un entidad operativa desconcentrada"
											class="form-control" name="nombreinstentidad"
											ng-model="nombreinstentidad" required ng-disabled="true">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> Unidad Desceoncentrada </label>
										<input type="text"
											placeholder="Escriba un unidad desceoncentrada"
											class="form-control" name="nombreunidad"
											ng-model="nombreunidad" required ng-disabled="true">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> Tipo </label> <select
											class="form-control" name="tipo" ng-model="tipo" required>
											<option value="P">Planificada</option>
											<option value="A">Ajustado</option>
										</select>
									</div>
								</div>
								<div class="panel-footer pull-right">
									<a class="btn btn-sm btn-default" ng-click="renovarAP();">
										Renovar </a> <a class="btn btn-sm btn-primary"
										ng-click="guardar('M');"> Guardar </a> <a
										class="btn btn-sm btn-default" ng-click="volver();">
										Volver </a>
								</div>
							</div>
						</div>
						<div class="col-md-12">
							<div class="panel panel-white" id="panel1">
								<div class="panel-heading">
									<h4 class="panel-title">SubActividad</h4>
								</div>
								<div class="panel-body">
									<div class="form-group has-success">
										<label class="control-label"> Programa </label> <input
											type="text" class="form-control" name="programa"
											ng-model="programa" required ng-disabled="true">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> Proyecto </label> <input
											type="text" class="form-control" name="proyecto"
											ng-model="proyecto" required ng-disabled="true">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> Actividad </label> <input
											type="text" class="form-control" name="actividad"
											ng-model="actividad" required ng-disabled="true">
									</div>

									<div class="form-group has-success">
										<label class="control-label"> SubActividad </label> <input
											type="text" class="form-control" name="subactividad"
											ng-model="subactividad" required ng-disabled="true">
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-12">
							<table class="table table-bordered">
								<tr>
									<td>Tarea</td>
									<td>Ponderaci&oacute;n</td>
									<td>Subtarea</td>
									<td>Ponderaci&oacute;n</td>
									<td>Descripci&oacute;n</td>
									<td>Meta</td>
									<td>Mes</td>
									<td>Observaci&oacute;n</td>
								</tr>
								<tr ng-repeat="obj in detalles" class="table-stylish">
									<td>
										{{ obj.tareacodigo }}: {{ obj.tareanombre }}
									</td>
									<td style="text-align: right;">
										{{ obj.tareaponderacion | number : 2 }}</td>
									<td>
										{{ obj.subtareacodigo }}: {{ obj.subtareanombre }}
									</td>
									<td style="text-align: right;">
										{{ obj.subtareaponderacion | number : 2 }}
									</td>
									<td>
										{{ obj.descripcion }}
									</td>
									<td style="text-align: right;">
										{{ obj.meta | number : 2 }}
									</td>
									<td>{{ obj.npMes }}</td>
									<td>
										<input type="text"
											placeholder="Escriba una observacion" class="form-control"
											name="{{'obcerv_'+$index}}" ng-model="obj.observacion"
											ng-change="editadoObservacion($index);">
									</td>
								</tr>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- ng-click="vista(node);" -->
<script type="text/ng-template" id="nodes_renderer.html">
<div ui-tree-handle class="tree-node tree-node-content">
	<table width="100%">
		<tr>
			<td width="1%">
				<div class="col-md-12" ng-show="!node.nphoja">
				    <a class="btn btn-default btn-xs"
						data-nodrag ng-click="toggle(this);cargarHijos(node)">
						<span class="glyphicon" ng-class="{
					       	'glyphicon-chevron-right': collapsed,
					       	'glyphicon-chevron-down': !collapsed
					    }">
						</span>
					</a>
				</div>
			</td>
			<td width="1%">
				<div class="col-md-12">
					<letter-icon data="{{node.nodeTipo}}" color="{{devuelveColorNode(node.nodeTipo);}}"
						size="sm" char-count="2">
					</letter-icon>
				</div>
			</td>
			<td width="100%" ng-click="vista(node);">
				{{node.title}}
			</td>
			<td width="1%">
				<table width="108px">
					<tr>
						<td width="34px">
							<a ng-show="node.nodeTipo!='AC' && node.nodeTipo!='SI'" uib-tooltip="Ver info."
								class="btn btn-info btn-sm" data-nodrag
								ng-click="vista(node);">
								<span class="fa fa-eye"></span>
							</a>
						</td>
						<td width="3px"></td>
						<td width="34px">
							<a ng-show="node.nodeTipo!='AC' && node.nodeTipo!='SI'" uib-tooltip="Agregar"
								class="btn btn-info btn-sm" data-nodrag
								ng-click="nuevo(node);">
								<span class="glyphicon glyphicon-plus"></span>
							</a>
							<a ng-show="node.nodeTipo=='AC' || node.nodeTipo=='SI'" uib-tooltip="Ver info."
								class="btn btn-info btn-sm" data-nodrag
								ng-click="vista(node);">
								<span class="fa fa-eye"></span>
							</a>
						</td>
						<td width="3px"></td>
						<td width="34px">
	  						<a uib-tooltip="Modificar" class="btn btn-info btn-sm" data-nodrag
								ng-click="editarPlanificacionAnual(node);">
								<span class="fa fa-pencil"></span>
							</a>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
</div>
<ol ui-tree-nodes="" ng-model="node.nodes" ng-class="{hidden: collapsed}">
    <li ng-repeat="node in node.nodes" ui-tree-node ng-include="'nodes_renderer.html'">
    </li>
</ol>
</script>
